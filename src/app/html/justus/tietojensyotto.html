<div class="alert alert-default text-center text-secondary" data-ng-if="justus.julkaisu.id">
  <p class="text-xl text-dark">{{i18n.content.alert.text[lang]}}  {{ justus.julkaisu.id }}:</p>
  <p class="text-xl text-dark font-weight-bold" >{{ justus.julkaisu.julkaisunnimi }}</p>
  <div class="text-center mb-0">
    <button class="btn btn-gray"
            type="button"
            data-ng-click="cancelAndAndStartOver()"
            data-ng-bind="i18n.content.form.sulje[lang]"></button>
  </div>
</div>

<div class="row">
  <div class="col-xs-12">
    <div class="breadcrumb">
      <h1 data-ng-bind="i18n.header.navigation.tallenna[lang]"></h1> <span><i class="fa fa-chevron-right"></i></span>
      <h2 data-ng-bind="i18n.content.vaihevuo.tietojensyotto[lang]"></h2>
    </div>
  </div>
</div>


<div role="form" data-ng-if="!loading.publication" class="form-container">
  <h3 class="form-header mt-0 text-secondary">{{i18n.content.tietojensyotto.yleiset[lang]}}</h3>

  <!-- alun yhteiset -->
  <div class="px">
  <!-- Kenttä: Julkaisutyyppi -->
  <div class="row form-group" id="julkaisutyyppiGroup">
    <div class="col-sm-4 col-xs-12">
      <label class="control-label" data-ng-bind="i18n.content.form.julkaisutyyppi[lang]"></label>
    </div>
    <div class="col-sm-8 col-xs-12 justus-data"
         data-ng-model="req_julkaisutyyppi">
      <div class="row">
        <div class="col-xs-12">
          <p class="font-weight-500">{{ getSelite(codes.julkaisutyypit, justus.julkaisu.julkaisutyyppi) }}</p>
        </div>
      </div>
    </div>
  </div>
  <!-- Kenttä: Julkaisuvuosi -->
  <div class="row form-group" id="julkaisuvuosiGroup" data-ng-if="isFieldVisible('julkaisuvuosi')">
    <div class="col-sm-4 col-xs-12">
      <label for="julkaisuvuosi" class="control-label" data-ng-bind="i18n.content.form.julkaisuvuosi[lang]"></label>
      <i class="fa fa-info-circle justus-info justus-color cursor-pointer"
         data-popover-trigger="'outsideClick'"
         data-popover-is-open="popoverIsOpen"
         data-ng-mouseenter="popoverIsOpen = true"
         data-popover-placement="right"
         data-uib-popover="{{ julkaisutyyppi_paa == 'F' ? i18n.content.form.julkaisuvuosi.tooltipF[lang] : i18n.content.form.julkaisuvuosi.tooltip[lang] }}">
      </i>
      <i data-ng-if="isFieldRequired('julkaisuvuosi')" class="fa fa-asterisk required-star" aria-hidden="true"></i>
    </div>
    <div class="col-sm-8 col-xs-12 justus-data"
         data-ng-model="req_julkaisuvuosi">
      <div class="row">
        <div class="col-sm-5 col-xs-12">
          <input type="number" class="form-control"
            name="julkaisuvuosi"
            id="julkaisuvuosi"
                 data-ng-model="justus.julkaisu.julkaisuvuosi"
                 min="-999" max="9999"
                 pattern="^[0-9]{4}$"
                 onKeyPress="if(this.value.length===4) return false;"
                 placeholder="{{ i18n.content.form.julkaisuvuosi.picktip[lang] }}"
            title="{{ julkaisutyyppi_paa == 'F' ? i18n.content.form.julkaisuvuosi.tooltipF[lang] : i18n.content.form.julkaisuvuosi.tooltip[lang] }}"
            data-ng-keydown="resetValidationError('julkaisuvuosi')">
        </div>
      </div>
    </div>
  </div>

  <!-- Kenttä: Julkaisuvuodenlisätieto -->
  <div class="row form-group" data-ng-if="isFieldVisible('julkaisuvuodenlisatieto')" id="julkaisuvuodenlisatietoGroup">
    <div class="col-sm-4 col-xs-12">
      <label for="julkaisuvuodenlisatieto" class="control-label" data-ng-bind="i18n.content.form.julkaisuvuodenlisatieto[lang]">
      </label>
       <i data-ng-if="isFieldRequired('julkaisuvuodenlisatieto')" class="fa fa-asterisk required-star" aria-hidden="true"></i>
      <i class="fa fa-info-circle justus-info cursor-pointer"
         data-popover-trigger="'outsideClick'"
         data-popover-is-open="popoverIsOpen"
         data-ng-mouseenter="popoverIsOpen = true"
         data-popover-placement="right"
         data-uib-popover="{{i18n.content.form.julkaisuvuodenlisatieto.tooltip[lang]}}"
         data-ng-show="i18n.content.form.julkaisuvuodenlisatieto.tooltip[lang]">
      </i>
    </div>
    <div class="col-sm-8 col-xs-12 justus-data"
         data-ng-model="req_julkaisuvuodenlisatieto" data-ng-required="requiredHighlight && !isValid('julkaisuvuodenlisatieto')">
      <div class="row">
        <div class="col-xs-12">
          <textarea id="julkaisuvuodenlisatieto"
                    name="julkaisuvuodenlisatieto"
                    class="form-control vertical-resize"
                    rows="1"
                    maxlength="1000"
                    placeholder="{{i18n.content.form.julkaisuvuodenlisatieto.picktip[lang]}}"
                    data-ng-model="justus.lisatieto.julkaisuvuodenlisatieto">
          </textarea>
        </div>
      </div>
    </div>
  </div>

  <!-- Kenttä: Julkaisun nimi -->
  <div class="row form-group"
       id="julkaisunnimiGroup"
       data-ng-if="isFieldVisible('julkaisunnimi')">
    <div class="col-sm-4 col-xs-12">
      <label for="julkaisunnimi" class="control-label"
             data-ng-bind="i18n.content.form.julkaisunnimi[lang]">
      </label>
      <i class="fa fa-info-circle justus-info cursor-pointer"
         data-popover-trigger="'outsideClick'"
         data-popover-is-open="popoverIsOpen"
         data-ng-mouseenter="popoverIsOpen = true"
         data-popover-placement="right"
         data-uib-popover="{{ julkaisutyyppi_paa == 'F' ? i18n.content.form.julkaisunnimi.tooltipF[lang] : i18n.content.form.julkaisunnimi.tooltip[lang] }}"
         data-ng-show="i18n.content.form.julkaisunnimi.tooltip[lang]">
      </i>
      <i data-ng-if="isFieldRequired('julkaisunnimi')" class="fa fa-asterisk required-star" aria-hidden="true"></i>
      <span data-ng-if="isFieldRequired('julkaisunnimi')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
    </div>
    <div class="col-sm-8 col-xs-12 justus-data"
         data-ng-model="req_julkaisunnimi">
      <div class="row">
        <div class="col-xs-12">
          <input type="text" class="form-control"
                 id="julkaisunnimi"
                 name="julkaisunnimi"
                 data-ng-model="justus.julkaisu.julkaisunnimi"
                 placeholder="{{ i18n.content.form.julkaisunnimi.picktip[lang] }}"
                 data-ng-keydown="resetValidationError('julkaisunnimi')">
        </div>
      </div>
    </div>
  </div>

    <!-- Kenttä: Tekijät -->
    <div class="row form-group" id="tekijatGroup" data-ng-if="isFieldVisible('tekijat')">
      <div class="col-sm-4 col-xs-12">
        <label for="julkaisuntekijat" class="control-label" data-ng-bind="i18n.content.form.tekijat[lang]"></label>
        <i class="fa fa-info-circle justus-info"
           data-popover-trigger="'outsideClick'"
           data-popover-is-open="popoverIsOpen"
           data-ng-mouseenter="popoverIsOpen = true"
           data-popover-placement="right"
           data-uib-popover="{{i18n.content.form.tekijat.tooltip[lang]}}"
           data-ng-show="i18n.content.form.tekijat.tooltip[lang]">
        </i>
        <i data-ng-if="isFieldRequired('tekijat')" class="fa fa-asterisk required-star" aria-hidden="true"></i>
        <span data-ng-if="isFieldRequired('tekijat')" class="sr-only"
              data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
      </div>
      <div class="col-sm-8 col-xs-12 justus-data">
        <div class="row">
          <div class="col-xs-12">
            <div class="tekijat-box">
              <ul dnd-list="tekijat"
                  data-ng-class="{'p-0': tekijat.length < 1}"
                  class="list-style-none pl-0 tekijat-list">
                <li
                    data-ng-repeat="tekija in tekijat"
                    dnd-draggable="tekija"
                    dnd-moved="tekijat.splice($index, 1)">
                  <dnd-nodrag>
                    <div dnd-handle class="handle cursor-pointer"><i class="fa fa-arrows-alt"></i></div>
                    <div class="handle-input">
                      <input aria-label="julkaisuntekijat"
                             type="text"
                             data-ng-model="tekija.nimi"
                             class="form-control focus"
                             data-ng-disabled="true">
                      <a data-ng-click="removeTekija($index)" data-ng-hide="tekijat.length === 1"
                         class="text-danger cursor-pointer text-secondary pt pl-x">
                        {{i18n.content.form.organisaatiotekija.poista.tooltip[lang]}}
                        <i class="fa fa-close pl-x"></i>
                      </a>
                    </div>
                  </dnd-nodrag>
                </li>
              </ul>
              <input class="form-control tekijat-input"
                     placeholder="{{i18n.content.form.tekijat.picktip[lang]}}"
                     data-ng-keydown="resetValidationError('tekijat')"
                     data-ng-model="tekija"
                     id="julkaisuntekijat"
                     tekijat-directive
                     lista="tekijat"
                     lukumaara="justus.julkaisu.julkaisuntekijoidenlukumaara">
            </div>
          </div>
        </div>
      </div>
    </div>

  <!-- Kenttä: Julkaisun tekijöiden lukumäärä -->
  <div class="row form-group"
       id="julkaisuntekijoidenlukumaaraGroup"
       data-ng-if="isFieldVisible('julkaisuntekijoidenlukumaara')">
    <div class="col-sm-4 col-xs-12">
      <label for="julkaisuntekijoidenlukumaara" class="control-label"
             data-ng-bind="i18n.content.form.julkaisuntekijoidenlukumaara[lang]">
      </label>
      <i class="fa fa-info-circle justus-info"
         data-popover-trigger="'outsideClick'"
         data-popover-is-open="popoverIsOpen"
         data-ng-mouseenter="popoverIsOpen = true"
         data-popover-placement="right"
         data-uib-popover="{{julkaisutyyppi_paa == 'F' ? i18n.content.form.julkaisuntekijoidenlukumaara.tooltipF[lang] : i18n.content.form.julkaisuntekijoidenlukumaara.tooltip[lang]}}"
         data-ng-show="i18n.content.form.julkaisuntekijoidenlukumaara.tooltip[lang]">
      </i>
      <i data-ng-if="isFieldRequired('julkaisuntekijoidenlukumaara')" class="fa fa-asterisk required-star" aria-hidden="true"></i>
      <span data-ng-if="isFieldRequired('julkaisuntekijoidenlukumaara')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
    </div>
    <div class="col-sm-8 col-xs-12 justus-data"
         data-ng-model="req_julkaisuntekijoidenlukumaara">
      <div class="row">
        <div class="col-xs-5">
          <input id="julkaisuntekijoidenlukumaara"
                 name="julkaisuntekijoidenlukumaara"
                 type="text"
                 class="form-control"
                 data-ng-model="justus.julkaisu.julkaisuntekijoidenlukumaara"
                 maxlength="2" pattern="^[0-9]*$">
        </div>
        <div class="col-xs-7 text-right">
          <button class="btn btn-primary justus-btn"
                  type="button"
                  data-ng-click="useKopioiTekijat(tekijat)"
                  data-ng-disabled="isCopyButtonDisabled()"
                  data-ng-show="tekijat.length && !justus.julkaisu.id"
                  data-ng-attr-title="{{getDisabledText(isCopyButtonDisabled())}}"
                  data-ng-bind="i18n.content.form.organisaatiotekija.kopioi.tooltip[lang]">
          </button>
        </div>
      </div>
    </div>
  </div>


  <!--<div data-ng-hide="user.hrDataExists">-->

  <!-- Kenttä alayksikön vuosivalinta, hide from members, set default as 2020-->
  <!--<div data-ng-if="isFieldVisible('alayksikko')"-->
       <!--data-ng-show="user.role !== 'member'" class="row form-group">-->
       <!--<div class="col-xs-12 col-sm-4">-->
        <!--<label data-ng-bind="i18n.content.form.organisaatiotekija.alayksikkovuosi[lang]">-->
        <!--</label>-->
          <!--<i class="fa fa-info-circle justus-info"-->
             <!--data-popover-trigger="'mouseenter'" data-popover-placement="right"-->
             <!--data-uib-popover="{{i18n.content.form.organisaatiotekija.alayksikkovuosi.tooltip[lang]}}">-->
         <!--</i>-->
      <!--</div>-->
      <!--<div class="col-xs-12 col-sm-5">-->
        <!--<ui-select data-ng-model="alayksikkovuosi.selected"-->
                   <!--theme="bootstrap">-->
            <!--<ui-select-match class="ui-select-match"-->
                             <!--data-ng-value="alayksikkovuosi.selected"-->
                             <!--placeholder="{{i18n.content.form.organisaatiotekija.alayksikkovuosi.picktip[lang]}}">-->
              <!--{{ $select.selected.label }}-->
            <!--</ui-select-match>-->
            <!--<ui-select-choices repeat="ala in alayksikkovuodet">-->
              <!--{{ala.label}}-->
            <!--</ui-select-choices>-->
      <!--</ui-select>-->
    <!--</div>-->
  <!--</div>-->

   <!--Kenttä: Organisaation tekijät -->
  <!--<div class="row form-group"-->
       <!--data-ng-if="isFieldVisible('organisaatiotekija')">-->
    <!--<div class="col-sm-4 col-xs-12" id="organisaatiotekijaGroup">-->
      <!--<label class="control-label" data-ng-bind="i18n.content.form.organisaatiotekija[lang]"></label>-->
      <!--<i class="fa fa-info-circle justus-info"-->
        <!--data-popover-trigger="'mouseenter'" data-popover-placement="right"-->
        <!--data-uib-popover="{{julkaisutyyppi_paa == 'F' ? i18n.content.form.organisaatiotekija.tooltipF[lang] : i18n.content.form.organisaatiotekija.tooltip[lang]}}"-->
        <!--data-ng-show="i18n.content.form.organisaatiotekija.tooltip[lang]">-->
      <!--</i>-->
      <!--<span data-ng-if="isFieldRequired('organisaatiotekija')" class="required-star">*</span>-->
    <!--</div>-->
    <!--<div class="col-sm-8 col-xs-12 justus-data">-->
      <!--<div data-ng-repeat="i in justus.organisaatiotekija track by $index"-->
           <!--class="row"-->
           <!--data-ng-model="req_organisaatiotekija[$index]">-->
        <!--<div class="col-xs-10">-->
          <!--<div class="row form-group" id="organisaatiotekijaRow">-->
            <!--<div class="col-xs-12 col-sm-6 sukunimiGroup"-->
                 <!--validate-organisaatiotekijat-directive validate="validateState"-->
                 <!--field="sukunimi"-->
                 <!--value="justus.organisaatiotekija[$index].sukunimi">-->
              <!--<input type="text" class="form-control"-->
                     <!--data-ng-model="justus.organisaatiotekija[$index].sukunimi"-->
                     <!--placeholder="{{i18n.content.form.organisaatiotekija.sukunimi.picktip[lang]}}">-->
              <!--<span class="fa fa-times form-control-feedback" aria-hidden="true"></span>-->
            <!--</div>-->
            <!--<div class="col-xs-12 col-sm-6 etunimetGroup"-->
                 <!--validate-organisaatiotekijat-directive validate="validateState" field="etunimet"-->
                 <!--value="justus.organisaatiotekija[$index].etunimet">-->
              <!--<input type="text" class="form-control"-->
                     <!--data-ng-model="justus.organisaatiotekija[$index].etunimet"-->
                     <!--placeholder="{{i18n.content.form.organisaatiotekija.etunimet.picktip[lang]}}">-->
              <!--<span class="fa fa-times form-control-feedback" aria-hidden="true"></span>-->
            <!--</div>-->
          <!--</div>-->

          <!--<div class="row form-group">-->
              <!--<div data-ng-if="isFieldVisible('alayksikko')"  class="col-xs-12 col-sm-6 form-group"-->
                   <!--validate-organisaatiotekijat-directive validate="validateState" field="orcid"-->
                   <!--value="justus.organisaatiotekija[$index].orcid">-->
                  <!--<input type="text" class="form-control"-->
                         <!--data-ng-model="justus.organisaatiotekija[$index].orcid"-->
                         <!--placeholder="{{i18n.content.form.organisaatiotekija.orcid.picktip[lang]}}">-->
                  <!--<span class="fa fa-times form-control-feedback" aria-hidden="true"></span>-->
              <!--</div>-->
            <!--&lt;!&ndash; Kenttä hr numero, currently visible only for Luonnonvarakeskus &ndash;&gt;-->
            <!--<div data-ng-if="isFieldVisible('hrnumero')" id="hrGroup" class="col-xs-12 col-sm-6 form-group">-->
              <!--<input type="text" class="form-control"-->
              <!--data-ng-model="justus.organisaatiotekija[$index].hrnumero"-->
              <!--placeholder="{{i18n.content.form.organisaatiotekija.hrnumero.picktip[lang]}}">-->
              <!--<span class="fa fa-times form-control-feedback" aria-hidden="true"></span>-->
            <!--</div>-->
             <!--&lt;!&ndash; Kenttä: Tekijän rooli taidejulkaisuille &ndash;&gt;-->
            <!--<div data-ng-if="isFieldVisible('tekijanrooli')" id="rooliGroup" class="col-xs-12 col-sm-6 form-group">-->
              <!--<span class="fa fa-times form-control-feedback" aria-hidden="true"></span>-->
                 <!--<ui-select data-ng-model="rooli.selected"-->
                            <!--on-select="useOrganisaatiotekijaRooli($index,$select.selected)"-->
                            <!--theme="bootstrap">-->
                    <!--<ui-select-match class="ui-select-match"-->
                                     <!--data-ng-value="justus.organisaatiotekija[$index].rooli"-->
                                     <!--placeholder="{{justus.organisaatiotekija[$index].rooli}} {{getSelite(codes.julkaisuntekijanrooli ,justus.organisaatiotekija[$index].rooli) || i18n.content.form.organisaatiotekija.tekijanrooli.picktip[lang]}}">-->
                      <!--{{ $select.selected.arvo }} {{ $select.selected.selite }}-->
                    <!--</ui-select-match>-->
                    <!--<ui-select-choices repeat="role in codes.julkaisuntekijanrooli | orderBy: 'arvo' | filter: $select.search">-->
                      <!--{{role.arvo}} {{role.selite }}-->
                    <!--</ui-select-choices>-->
                  <!--</ui-select>-->
              <!--</div>-->

          <!--<div data-ng-if="isFieldVisible('alayksikko')" class="col-xs-12">-->
            <!--<div data-ng-repeat="ota in justus.organisaatiotekija[$index].alayksikko track by $index"-->
                 <!--data-ng-init="pIx=$parent.$index" class="row">-->
              <!--<div class="col-xs-11 col-sm-11 mb-x"-->
                   <!--validate-organisaatiotekijat-directive validate="validateState"-->
                   <!--field="alayksikko" value="ota">-->
                <!--<ui-select data-ng-model="alayksikko.selected"-->
                           <!--on-select="useOrganisaatiotekijaAlayksikko(pIx,$index,$select.selected.arvo)"-->
                           <!--theme="bootstrap"-->
                            <!--class="dropdown-height-300">-->
                    <!--<ui-select-match class="ui-select-match"-->
                                     <!--placeholder="{{ ota }} {{ getSelite(user.alayksikot, ota)|| i18n.content.form.organisaatiotekija.alayksikko.picktip[lang]}}">-->
                    <!--{{ ota }}  {{ getSelite(user.alayksikot, ota) }}-->
                  <!--</ui-select-match>-->
                  <!--<ui-select-choices repeat="o in getAlayksikkoData(alayksikkovuosi.selected) | filter: $select.search">-->
                    <!--{{ getArvo(o.arvo)}} {{o.selite}}-->
                  <!--</ui-select-choices>-->
                <!--</ui-select>-->
              <!--</div>-->
              <!--<div>-->

              <!--<div class="col-xs-1 col-sm-1 pl-0">-->
                <!--<span class="btn btn-primary" data-ng-class="{'mb-x': $last}"-->
                      <!--data-ng-click="addAlayksikko($parent.$index, $index)"-->
                      <!--data-ng-hide="justus.organisaatiotekija[$parent.$index].alayksikko.length<2"-->
                      <!--title="{{i18n.content.form.organisaatiotekija.poista.tooltip[lang]}}"-->
                      <!--data-ng-bind="i18n.content.form.organisaatiotekija.poista[lang]">-->
                <!--</span>-->
                <!--<span class="btn btn-primary"-->
                      <!--data-ng-click="justus.organisaatiotekija[$parent.$index].alayksikko.push('')"-->
                      <!--data-ng-show="($index == justus.organisaatiotekija[$parent.$index].alayksikko.length-1 && a!='')"-->
                      <!--title="{{i18n.content.form.organisaatiotekija.lisaa.tooltip[lang]}}"-->
                      <!--data-ng-bind="i18n.content.form.organisaatiotekija.lisaa[lang]">-->
                <!--</span>-->
              <!--</div>-->
              <!--</div>-->
            <!--</div>-->
            <!--</div>-->
          <!--</div>-->
        <!--</div>-->
        <!--<div class="col-xs-2">-->
          <!--<span class="btn btn-primary mb-x"-->
                <!--data-ng-click="justus.organisaatiotekija.splice($index, 1)"-->
                <!--data-ng-hide="justus.organisaatiotekija.length<2"-->
                <!--title="{{i18n.content.form.organisaatiotekija.poista.tooltip[lang]}}"-->
                <!--data-ng-bind="i18n.content.form.organisaatiotekija.poista.tooltip[lang]">-->
          <!--</span>-->
          <!--<span class="btn btn-primary"-->
                <!--data-ng-click="addOrganisaatiotekija()"-->
                <!--data-ng-hide="$index < justus.organisaatiotekija.length-1"-->

                <!--title="{{i18n.content.form.organisaatiotekija.lisaa.tooltip[lang]}}"-->
                <!--data-ng-bind="i18n.content.form.organisaatiotekija.lisaa.tooltip[lang]">-->
          <!--</span>-->

          <!--<i class="fa fa-arrow-left pull-right form-control-feedback-extra"-->
             <!--data-ng-if="requiredHighlight && !(justus.organisaatiotekija[$index].sukunimi && justus.organisaatiotekija[$index].etunimet-->
            <!--&& justus.organisaatiotekija[$index].alayksikko[0].alayksikko-->
            <!--)">&lt;!&ndash; nb! ei pakollinen vielä && justus.organisaatiotekija[$index].orcid)" &ndash;&gt;-->
          <!--</i>-->
        <!--</div>-->
      <!--</div>-->
    <!--</div>-->
  <!--</div>-->
    <!--</div>-->

  <!-- Organisaation tekijat esitaytto -->
    <div class="row form-group"
         data-ng-if="isFieldVisible('organisaatiotekija')">
      <div class="col-sm-4 col-xs-12" id="organisaatiotekijaGroup">
        <label id="organisaatiokijat" class="control-label"
               data-ng-bind="i18n.content.form.organisaatiotekija[lang]"></label>
        <i class="fa fa-info-circle justus-info"
           data-popover-trigger="'outsideClick'"
           data-popover-is-open="popoverIsOpen"
           data-ng-mouseenter="popoverIsOpen = true"
           data-popover-placement="right"
           data-uib-popover="{{julkaisutyyppi_paa == 'F' ? i18n.content.form.organisaatiotekija.tooltipF[lang] : i18n.content.form.organisaatiotekija.tooltip[lang]}}"
           data-ng-show="i18n.content.form.organisaatiotekija.tooltip[lang]">
        </i>
        <i data-ng-if="isFieldRequired('organisaatiotekija')" class="fa fa-asterisk required-star"
           aria-hidden="true"></i>
        <span data-ng-if="isFieldRequired('organisaatiotekija')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
      </div>
      <div class="col-sm-8 col-xs-12 justus-data">
        <div class="row" data-ng-if="multipleMatch">
          <div class="col-xs-12">
            <div class="text-danger">
              <span>{{infoText}}</span>
              <ul>
                <li data-ng-repeat="person in multipleMatchNames">{{person.sukunimi}}, {{person.etunimi}}</li>
              </ul>
            </div>
          </div>
        </div>
        <div data-ng-repeat="i in justus.organisaatiotekija track by $index"
             class="row ml-0 organisaatiotekija-border"
             data-ng-class=" {'p-t': !$first}"
             data-ng-model="req_organisaatiotekija[$index]">
          <div class="col-xs-12 pl-0">
            <div class="row form-group" id="organisaatiotekijaRow">
              <div class="row form-group ml-0" data-ng-if="user.hrDataExists">
                <div class="col-xs-12">
                  <div class="cursor-pointer d-inline-block" data-ng-click="i.useEsitaytto=!i.useEsitaytto">
                    <i class="fa fa-2x fa-toggle-on"
                       data-ng-class="i.useEsitaytto?'active':'fa-rotate-180 inactive'"></i>
                    <span data-ng-show="i.useEsitaytto"
                          class="text-secondary  float-right pt pl">Esitäyttö käytössä</span>
                    <span data-ng-show="!i.useEsitaytto" class="text-secondary text-gray  float-right pt pl">Esitäyttö pois käytössä</span>
                  </div>
                </div>
              </div>
              <div class="col-xs-12 col-sm-6"  data-ng-class="['sukunimiGroup' + $index]"
                   validate-organisaatiotekijat-directive validate="validateState"
                   field="sukunimi"
                   value="justus.organisaatiotekija[$index].sukunimi">
                <label id="organisaatiotekijasukunimi">{{i18n.content.form.organisaatiotekija.sukunimi.picktip[lang]}}</label>
                <div data-ng-show="i.useEsitaytto">
                  <ui-select aria-labelledby="organisaatiokijat organisaatiotekijasukunimi"
                             data-ng-model="organisaatioTekijaSelected"
                             on-select="useOrganisaatiotekijaEsitaytto($select.selected, $index)"
                             theme="bootstrap"
                             limit="50">
                    <ui-select-match class="ui-select-match"
                                     placeholder="Valitse / Kirjoita sukunimi">
                      {{ i.sukunimi || "Valitse / Kirjoita sukunimi" }}
                    </ui-select-match>
                    <ui-select-choices
                            repeat="person in persons.data | orderBy: 'sukunimi' | filter: { sukunimi: $select.search } | limitTo:$select.limit">
                      <span class="font-weight-bold">{{person.sukunimi}}</span> {{person.etunimi}}
                    </ui-select-choices>
                  </ui-select>
                </div>

                <div data-ng-show="!i.useEsitaytto">
                  <input aria-labelledby=" organisaatiotekijasukunimi"
                         type="text" class="form-control"
                         data-ng-model="justus.organisaatiotekija[$index].sukunimi"
                         placeholder="{{i18n.content.form.organisaatiotekija.sukunimi.picktip[lang]}}"
                         data-ng-keydown="resetValidationError('sukunimi', $index)">
                </div>
              </div>
              <div class="col-xs-12 col-sm-6" data-ng-class="['etunimetGroup' + $index]"
                   validate-organisaatiotekijat-directive validate="validateState" field="etunimet"
                   value="justus.organisaatiotekija[$index].etunimet">
                <label id="organisaatiotekijaetunimet">{{i18n.content.form.organisaatiotekija.etunimet.picktip[lang]}}</label>
                <i data-ng-if="isFieldRequired('organisaatiotekija')" class="fa fa-asterisk required-star"
                   aria-hidden="true"></i>
                <span data-ng-if="isFieldRequired('organisaatiotekija')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
                <input aria-labelledby="organisaatiokijat organisaatiotekijaetunimet"
                       type="text" class="form-control"
                       data-ng-disabled="justus.organisaatiotekija[$index].useEsitaytto"
                       data-ng-model="justus.organisaatiotekija[$index].etunimet"
                       placeholder="{{i18n.content.form.organisaatiotekija.etunimet.picktip[lang]}}"
                       data-ng-keydown="resetValidationError('etunimet', $index)">
              </div>
            </div>

            <div data-ng-if="isFieldVisible('orcid')" class="row form-group">
              <div data-ng-class="['orcidGroup' + $index]" class="col-xs-12 col-sm-6"
                   validate-organisaatiotekijat-directive validate="validateState" field="orcid"
                   value="justus.organisaatiotekija[$index].orcid">
                <label for="orcid"
                       class="control-label">{{i18n.content.form.organisaatiotekija.orcid.picktip[lang]}}</label>
                <input id="orcid"
                       type="text" class="form-control"
                       data-ng-disabled="justus.organisaatiotekija[$index].useEsitaytto && justus.organisaatiotekija[$index].orcid !== ''"
                       data-ng-model="justus.organisaatiotekija[$index].orcid"
                       placeholder="{{i18n.content.form.organisaatiotekija.orcid.picktip[lang]}}"
                       data-ng-keydown="resetValidationError('orcid', $index)">
                <!--                <span data-ng-show="orcidError">No data found for this orcid</span>-->
                <span class="invalid-pattern text-secondary text-danger" aria-hidden="true">Tarkasta ORCID -numeron muoto</span>
              </div>
              <!-- Kenttä hr numero, currently visible only for Luonnonvarakeskus -->
              <div data-ng-if="isFieldVisible('hrnumero')" id="hrGroup" class="col-xs-12 col-sm-6">
                <label for="hrnumero" class="control-label">{{i18n.content.form.organisaatiotekija.hrnumero.picktip[lang]}}</label>
                <input id="hrnumero"
                       data-ng-disabled="i.useEsitaytto"
                       name="hrnumero"
                       type="text" class="form-control"
                       data-ng-model="justus.organisaatiotekija[$index].hrnumero"
                       placeholder="{{i18n.content.form.organisaatiotekija.hrnumero.picktip[lang]}}">
              </div>
              <!-- Kenttä: Tekijän rooli taidejulkaisuille -->
              <div data-ng-if="isFieldVisible('tekijanrooli')" id="rooliGroup" class="col-xs-12 col-sm-6 " data-ng-class="{ 'm-t': isFieldVisible('hrnumero') }">
                <label id="organisaatiotekijarooli">{{i18n.content.form.organisaatiotekija.tekijanrooli.picktip[lang]}}</label>
                <ui-select data-ng-model="rooli.selected"
                           on-select="useOrganisaatiotekijaRooli($index,$select.selected)"
                           theme="bootstrap">
                  <ui-select-match class="ui-select-match"
                                   data-ng-value="justus.organisaatiotekija[$index].rooli"
                                   placeholder="{{justus.organisaatiotekija[$index].rooli}} {{getSelite(codes.julkaisuntekijanrooli ,justus.organisaatiotekija[$index].rooli) || i18n.content.form.organisaatiotekija.tekijanrooli.picktip[lang]}}">
                    {{ $select.selected.arvo }} {{ $select.selected.selite }}
                  </ui-select-match>
                  <ui-select-choices
                          role="option"
                          aria-labelledby="organisaatiotekijarooli"
                          repeat="role in codes.julkaisuntekijanrooli | orderBy: 'arvo' | filter: $select.search">
                    {{role.arvo}} {{role.selite }}
                  </ui-select-choices>
                </ui-select>
              </div>
            </div>

            <div data-ng-if="isFieldVisible('alayksikko')" class="row form-group">
              <div  class="col-xs-12">
                <div class="row form-group no-gutter" data-ng-show="justus.organisaatiotekija[$index].alayksikko[0]">
                  <label for="unitlist" class="control-label"
                         data-ng-bind="i18n.content.form.organisaatiotekija.alayksikko[lang]">
                  </label>
                  <div data-ng-repeat="ota in justus.organisaatiotekija[$index].alayksikko track by $index"
                       data-ng-init="pIx=$parent.$index">
                    <div class="row no-gutter">
                      <div class="col-xs-10 col-sm-10" data-ng-hide="!ota"
                           validate-organisaatiotekijat-directive validate="validateState" index="$parent.$index"
                           field="alayksikko" value="ota">

                        <div class="">
                          <span id="unitlist" class="text-secondary font-weight-bold text-xl" data-ng-bind="ota + ' '+ getSelite(user.alayksikot, ota) "></span>
                        </div>
                      </div>
                      <div class="col-xs-2 col-sm-2 mt-x">
                        <a
                          data-ng-click="poistaAlayksikko(pIx, $index)"
                          class="text-danger cursor-pointer text-secondary pull-right"
                          title="{{i18n.content.form.organisaatiotekija.poista.tooltip[lang]}}">
                          {{i18n.content.form.organisaatiotekija.poista.tooltip[lang]}}
                          <i class="fa fa-close"></i>
                        </a>
                      </div>
                    </div>
                  </div>
                </div>

                <label class="control-label"
                       data-ng-bind="i18n.content.form.organisaatiotekija.alayksikko.lisaa[lang]"></label>
                <i data-ng-if="isFieldRequired('alayksikko')" class="fa fa-asterisk required-star"
                   aria-hidden="true"></i>
                <span data-ng-if="isFieldRequired('alayksikko')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
                <div class="row form-group">

                  <div class="col-xs-12 col-sm-5">

                    <label id="valitsevuosi">{{i18n.content.form.organisaatiotekija.alayksikko.lisaa.vuosi[lang]}}</label>
                    <ui-select aria-label="valitsevuosi"
                               role="listbox"

                               data-ng-model="alayksikkovuosi.selected"
                               theme="bootstrap">
                      <ui-select-match class="ui-select-match"
                                       data-ng-value="alayksikkovuosi.selected"
                                       placeholder="{{i18n.content.form.organisaatiotekija.alayksikko.lisaa.vuosi[lang]}}">
                        {{ $select.selected.label }}
                      </ui-select-match>
                      <ui-select-choices role="option" repeat="ala in alayksikkovuodet">
                        {{ala.label}}
                      </ui-select-choices>
                    </ui-select>
                  </div>
                  <div class="col-xs-12 col-sm-7 alayksikko-error" data-ng-class="['alayksikkoGroup' + $index]">
                    <label id="valitsealayksikko">{{i18n.content.form.organisaatiotekija.alayksikko.lisaa.yksikko[lang]}}</label>
                    <ui-select aria-labelledby="valitsealayksikko"
                               role="listbox"
                               data-ng-model="alayksikko.selected"
                               on-select="useAlayksikko($index,$select.selected.arvo); resetValidationError('alayksikko', $index)"
                               theme="bootstrap"
                               class="dropdown-height-300">
                      <ui-select-match class="ui-select-match"
                                       placeholder="{{i18n.content.form.organisaatiotekija.alayksikko.lisaa.yksikko[lang]}}">{{i18n.content.form.organisaatiotekija.alayksikko.lisaa.yksikko[lang]}}

                      </ui-select-match>
                      <ui-select-choices
                              role="option"
                              repeat="o in getAlayksikkoData(alayksikkovuosi.selected) | filter: $select.search">
                         {{o.selite}}
                      </ui-select-choices>
                    </ui-select>
                  </div>
                </div>
              </div>
            </div>

            <div data-ng-if="justus.organisaatiotekija.length>1" class="row form-group">
              <div class="col-xs-12">
                <a
                        data-ng-click="justus.organisaatiotekija.splice($index, 1)"

                        class="cursor-pointer text-secondary pull-right poista-btn"
                        title="{{i18n.content.form.organisaatiotekija.poista.tooltip[lang]}}">
                  Poista organisaatiotekijä
                  <i class="fa fa-close"></i>
                </a>
              </div>
            </div>
          </div>

        </div>
        <div class="row form-group p-t">
          <div class="col-xs-12">
            <button type="button"
                    class="btn btn-primary"
                    data-ng-click="addOrganisaatiotekija()"
                    title="{{i18n.content.form.organisaatiotekija.lisaa.tooltip[lang]}}"
                    data-ng-bind="i18n.content.form.organisaatiotekija.lisaa[lang]">
            </button>
          </div>
        </div>
      </div>
    </div>

   <!-- Kenttä: Projektinumero -->
    <div class="row form-group"
         id="projektinumeroGroup"
         data-ng-if="isFieldVisible('projektinumero')">
      <div class="col-sm-4 col-xs-12">
        <label for="projektinumero" class="control-label"
               data-ng-bind="i18n.content.form.projektinumero[lang]">
        </label>
        <i class="fa fa-info-circle justus-info"
           data-popover-trigger="'outsideClick'"
           data-popover-is-open="popoverIsOpen"
           data-ng-mouseenter="popoverIsOpen = true"
           data-popover-placement="right"
           data-uib-popover="{{ i18n.content.form.projektinumero.tooltip[lang] }}"
           data-ng-show="i18n.content.form.projektinumero.tooltip[lang]">
        </i>
      </div>
      <div class="col-sm-8 col-xs-12 justus-data">
        <div class="row">
          <div class="col-xs-8">
            <div data-ng-repeat="projektinumero in justus.julkaisu.projektinumero track by $index"
                 data-ng-class="{'mb-x':($index !== $last)}">
              <input
                      id="projektinumero"
                      name="projektinumero"
                      type="text"
                      class="form-control "
                      data-ng-model="justus.julkaisu.projektinumero[$index]"
                      placeholder="{{ i18n.content.form.projektinumero[lang] }}">
            </div>
          </div>
          <div class="col-xs-4">
            <div class="p-b mb-x">
              <button
                      type="button"
                      class="btn btn-primary"
                      data-ng-click="justus.julkaisu.projektinumero.push('')"
                      title="{{i18n.content.form.organisaatiotekija.lisaa.tooltip[lang]}}"
                      data-ng-bind="i18n.content.form.organisaatiotekija.lisaa.tooltip[lang]">
              </button>
            </div>
            <div class="pull-left m-t pl-x">
              <a
                      data-ng-click="justus.julkaisu.projektinumero.splice(justus.julkaisu.projektinumero.length-1, 1)"
                      data-ng-hide="justus.julkaisu.projektinumero.length<2 || $index === '0'"
                      class="text-danger cursor-pointer text-secondary pull-right"
                      title="{{i18n.content.form.organisaatiotekija.poista.tooltip[lang]}}">
                {{i18n.content.form.organisaatiotekija.poista.tooltip[lang]}}
                <i class="fa fa-close"></i>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row form-group"
         data-ng-if="isFieldVisible('ensimmainenkirjoittaja')"
         id="ensimmainenkirjoittajaGroup">
      <div class="col-sm-4 col-xs-12">
        <label class="control-label d-inline"
            >Artikkelin ensimmäinen kirjoittaja on organisaation kirjoittaja
        </label>
          <i data-ng-if="isFieldRequired('ensimmainenkirjoittaja')" class="fa fa-asterisk required-star" aria-hidden="true"></i>
          <span data-ng-if="isFieldRequired('ensimmainenkirjoittaja')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
      </div>
      <div class="col-md-8 col-xs-12 justus-data"
           data-ng-model="req_ensimmainenkirjoittaja"
           data-ng-required="requiredHighlight && !isValid('ensimmainenkirjoittaja')">
        <div class="row">
          <div class="col-xs-10">
            <input id="ensimmainenkirjoittaja"
                   aria-labelledby="ensimmainenkirjoittaja"
                   name="ensimmainenkirjoittaja"
                   type="radio"
                   data-ng-model="justus.julkaisu.ensimmainenkirjoittaja"
                   value="1"
                   data-ng-change="resetValidationError('ensimmainenkirjoittaja')">
            <label for="ensimmainenkirjoittaja" data-ng-model="lab1_ensimmainenkirjoittaja"
                   class="control-label">
              {{i18n.content.form.ensimmainenkirjoittaja['1'][lang]}}
            </label>
            <input type="radio"
                   id="eiensimmainenkirjoittaja"
                   aria-labelledby="ensimmainenkirjoittaja"
                   name="ensimmainenkirjoittaja"
                   data-ng-model="justus.julkaisu.ensimmainenkirjoittaja"
                   value="0"
                   data-ng-change="resetValidationError('ensimmainenkirjoittaja')">
            <label for="eiensimmainenkirjoittaja"
                   data-ng-model="lab2_ensimmainenkirjoittaja"
                   class="control-label">
              {{i18n.content.form.ensimmainenkirjoittaja['0'][lang]}}
            </label>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row px">
    <div class="col-xs-12">
      <p class="text-danger font-xl">{{i18n.content.form.pakolliset[lang]}}  <i class="fa fa-asterisk required-star" ></i>
      </p>
    </div>
  </div>
  <h3 class="form-header text-secondary">{{i18n.content.tietojensyotto.bibliografiset[lang]}}</h3>

  <div class="px">
  <!-- julkaisutyypistä riippuvat -->
  <!-- Kenttä: Konferenssin vakiintunut nimi -->
    <div class="row form-group"
         data-ng-if="isFieldVisible('konferenssinvakiintunutnimi')"
         id="konferenssinvakiintunutnimiGroup">
      <div class="col-sm-4 col-xs-12">
        <label
                for="konferenssinvakiintunutnimi"
                class="control-label"
                data-ng-bind="i18n.content.form.konferenssinvakiintunutnimi[lang]">
        </label>
        <i class="fa fa-info-circle justus-info"
           data-popover-trigger="'outsideClick'"
           data-popover-is-open="popoverIsOpen"
           data-ng-mouseenter="popoverIsOpen = true"
           data-popover-placement="right"
           data-uib-popover="{{i18n.content.form.konferenssinvakiintunutnimi.tooltip[lang]}}"
           data-ng-show="i18n.content.form.konferenssinvakiintunutnimi.tooltip[lang]">
        </i>
        <i data-ng-if="isFieldRequired('konferenssinvakiintunutnimi')" class="fa fa-asterisk required-star"
           aria-hidden="true"></i>
        <span data-ng-if="isFieldRequired('konferenssinvakiintunutnimi')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
      </div>
      <div class="col-sm-8 col-xs-12 justus-data"
           data-ng-model="req_konferenssinvakiintunutnimi">
        <div class="row">
          <div class="col-xs-12">
            <input
                    id="konferenssinvakiintunutnimi"
                    name="konferenssinvakiintunutnimi"
                    type="text" class="form-control"
                    data-ng-model="justus.julkaisu.konferenssinvakiintunutnimi"
                    data-uib-typeahead="konferenssinimet.Name for konferenssinimet in refreshKanavanimet(3,$viewValue)"
                    data-typeahead-loading="jufoKonferenssiLataa" data-typeahead-no-results="jufoNoResults"
                    data-typeahead-wait-ms="2000"
                    placeholder="{{i18n.content.form.konferenssinvakiintunutnimi.picktip[lang]}}"
                    data-ng-keydown="resetValidationError('konferenssinvakiintunutnimi')">
          </div>
        </div>
      </div>
    </div>

    <!-- Kenttä: Emojulkaisun nimi -->
    <div class="row form-group"
         data-ng-if="isFieldVisible('emojulkaisunnimi')"
         id="emojulkaisunnimiGroup">
      <div class="col-sm-4 col-xs-12">
        <label for="emojulkaisunnimi" class="control-label"
               data-ng-bind="i18n.content.form.emojulkaisunnimi[lang]"></label>
        <i class="fa fa-info-circle justus-info"
           data-popover-trigger="'outsideClick'"
           data-popover-is-open="popoverIsOpen"
           data-ng-mouseenter="popoverIsOpen = true"
           data-popover-placement="right"
           data-uib-popover="{{ julkaisutyyppi_paa == 'F' ? i18n.content.form.emojulkaisunnimi.tooltipF[lang] : i18n.content.form.emojulkaisunnimi.tooltip[lang] }}"
           data-ng-show="i18n.content.form.emojulkaisunnimi.tooltip[lang]">
        </i>
        <i data-ng-if="isFieldRequired('emojulkaisunnimi')" class="fa fa-asterisk required-star" aria-hidden="true"></i>
        <span data-ng-if="isFieldRequired('emojulkaisunnimi')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
      </div>
      <div class="col-sm-8 col-xs-12 justus-data">
        <div class="row">
          <div class="col-xs-12">
            <input
                    id="emojulkaisunnimi"
                    name="emojulkaisunnimi"
                    type="text"
                    class="form-control"
                    data-ng-model="justus.julkaisu.emojulkaisunnimi"
                    placeholder="{{ i18n.content.form.emojulkaisunnimi.picktip[lang] }}"
                    data-ng-keydown="resetValidationError('emojulkaisunnimi')">
          </div>
        </div>
      </div>
    </div>

    <!-- Kenttä: ISBN :: nb! isbn vs issn. -->
    <div class="row form-group" data-ng-if="isFieldVisible('isbn')" id="isbnGroup">
      <div class="col-sm-4 col-xs-12">
        <label for="isbn" class="control-label" data-ng-bind="i18n.content.form.isbn[lang]"></label>
        <i class="fa fa-info-circle justus-info"
           data-popover-trigger="'outsideClick'"
           data-popover-is-open="popoverIsOpen"
           data-ng-mouseenter="popoverIsOpen = true"
           data-popover-placement="right"
           data-uib-popover="{{julkaisutyyppi_paa == 'F' ? i18n.content.form.isbn.tooltipF[lang] : i18n.content.form.isbn.tooltip[lang]}}"
           data-ng-show="i18n.content.form.isbn.tooltip[lang]"></i>
        <i data-ng-if="isFieldRequired('isbn')" class="fa fa-asterisk required-star" aria-hidden="true"></i>
        <span data-ng-if="isFieldRequired('isbn')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
      </div>
      <div class="col-sm-8 col-xs-12 justus-data">
        <div class="row">
          <div class="col-xs-9">
            <div data-ng-repeat="isbn in justus.julkaisu.isbn track by $index" data-ng-class="{'mb-x':$first}">
              <input
                      id="isbn"
                      name="isbn"
                      type="text"
                      class="form-control"
                      data-ng-model="justus.julkaisu.isbn[$index]"
                      data-ng-keydown="resetValidationError('isbn')">
            </div>
          </div>
          <div class="col-xs-3">
            <div class="p-b mb-x">
              <button
                      type="button"
                      class="btn btn-primary"
                      data-ng-click="justus.julkaisu.isbn.push('')"
                      data-ng-hide="!justus.julkaisu.isbn[0] || justus.julkaisu.isbn[0] === ''"
                      data-ng-disabled="justus.julkaisu.isbn.length>1"
                      title="{{i18n.content.form.organisaatiotekija.lisaa.tooltip[lang]}}"
                      data-ng-bind="i18n.content.form.organisaatiotekija.lisaa.tooltip[lang]">
              </button>
            </div>
            <div class="m-t pl-x">
                <a
                   data-ng-click="justus.julkaisu.isbn.splice(justus.julkaisu.isbn.length-1, 1)"
                   class="text-danger cursor-pointer text-secondary"
                   data-ng-hide="justus.julkaisu.isbn.length<2 || $index === '0'"
                   title="{{i18n.content.form.organisaatiotekija.poista.tooltip[lang]}}">
                  {{i18n.content.form.organisaatiotekija.poista.tooltip[lang]}}
                  <i class="fa fa-close" ></i>
                </a>
            </div>
          </div>
        </div>
        <span class="invalid-pattern text-secondary text-danger" aria-hidden="true"
              data-ng-bind="i18n.content.form.isbn.virhe[lang]"></span>
      </div>

    </div>

    <!-- Kenttä: Emojulkaisun toimittajat -->
    <div class="row form-group"
         data-ng-if="isFieldVisible('emojulkaisuntoimittajat')"
         id="emojulkaisuntoimittajatGroup">
      <div class="col-sm-4 col-xs-12">
        <label
                id="emojulkaisuntoimittajat"
                class="control-label"
                data-ng-bind="i18n.content.form.emojulkaisuntoimittajat[lang]">
        </label>
        <i class="fa fa-info-circle justus-info"
           data-popover-trigger="'outsideClick'"
           data-popover-is-open="popoverIsOpen"
           data-ng-mouseenter="popoverIsOpen = true"
           data-popover-placement="right"
           data-uib-popover="{{i18n.content.form.emojulkaisuntoimittajat.tooltip[lang]}}"
           data-ng-show="i18n.content.form.emojulkaisuntoimittajat.tooltip[lang]">
        </i>
        <i data-ng-if="isFieldRequired('emojulkaisuntoimittajat')" class="fa fa-asterisk required-star"
           aria-hidden="true"></i>
        <span data-ng-if="isFieldRequired('emojulkaisuntoimittajat')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
      </div>
      <div class="col-sm-8 col-xs-12 justus-data">
        <div class="row">
          <div class="col-xs-12">
            <tags-input
                    aria-labelledby="emojulkaisuntoimittajat"
                    data-ng-model="emojulkaisuntoimittajatTags"
                    data-replace-spaces-with-dashes="false"
                    data-add-on-comma="false"
                    data-add-on-space="false"
                    placeholder="{{i18n.content.form.tekijat.picktip[lang]}}"
                    data-on-tag-added="useEmojulkaisuntoimittajat()"
                    data-on-tag-removed="useEmojulkaisuntoimittajat()"
                    enable-editing-last-tag="true"
                    allowed-tags-pattern="^[^,\;]+,[^,\;]+$"
                    data-ng-keydown="resetValidationError('emojulkaisuntoimittajat')">
            </tags-input>
          </div>
        </div>
      </div>
    </div>

    <!-- Kenttä: Lehden / julkaisusarjan nimi :: näkyy aina -->
    <div class="row form-group"
         id="lehdenjulkaisusarjannimiGroup"
         data-ng-if="isFieldVisible('lehdenjulkaisusarjannimi')">
      <div class="col-sm-4 col-xs-12">
        <label for="lehdenjulkaisusarjannimi"
               class="control-label"
               data-ng-bind="i18n.content.form.lehdenjulkaisusarjannimi[lang]"></label>
        <i class="fa fa-info-circle justus-info"
           data-popover-trigger="'outsideClick'"
           data-popover-is-open="popoverIsOpen"
           data-ng-mouseenter="popoverIsOpen = true"
           data-popover-placement="right"
           data-uib-popover="{{i18n.content.form.lehdenjulkaisusarjannimi.tooltip[lang]}}"
           data-ng-show="i18n.content.form.lehdenjulkaisusarjannimi.tooltip[lang]"></i>
        <i data-ng-if="isFieldRequired('lehdenjulkaisusarjannimi')" class="fa fa-asterisk required-star"
           aria-hidden="true"></i>
        <span data-ng-if="isFieldRequired('lehdenjulkaisusarjannimi')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
      </div>
      <div class="col-sm-8 col-xs-12 justus-data">
        <div class="row">
          <div class="col-xs-11">
            <input
                    id="lehdenjulkaisusarjannimi"
                    name="lehdenjulkaisusarjannimi"
                    type="text" class="form-control"
                    data-ng-model="justus.julkaisu.lehdenjulkaisusarjannimi"
                    data-uib-typeahead="nimet.Name for nimet in refreshKanavanimet(1,$viewValue)"
                    data-typeahead-loading="jufoLataa"
                    data-typeahead-no-results="jufoNoResults"
                    data-typeahead-wait-ms="2000"
                    placeholder="{{i18n.content.form.lehdenjulkaisusarjannimi.picktip[lang]}}"
                    data-typeahead-on-select="useLehtisarja($item.Jufo_ID)"
                    data-ng-keydown="resetLehtisarja();resetValidationError('lehdenjulkaisusarjannimi')">
          </div>
          <div class="col-xs-1">
            <i class='fa fa-spinner fa-spin fa-2x' data-ng-show='jufoLataa'></i>
          </div>
        </div>
        <!-- näytä valitun lehden/sarjan tietoja -->
        <div class="row" data-ng-show="justus.julkaisu.jufotunnus || justus.julkaisu.jufoluokitus">
          <div class="col-xs-12">
            <input type="hidden"
                   data-ng-model="justus.julkaisu.jufotunnus">
            <input type="hidden"
                   data-ng-model="justus.julkaisu.jufoluokitus">
            <!-- TODO show or not? -->
            <span data-ng-show="justus.julkaisu.jufotunnus">
            {{i18n.content.form.jufotunnus[lang]}}: {{justus.julkaisu.jufotunnus}}</span>
            <span data-ng-show="justus.julkaisu.jufotunnus && justus.julkaisu.jufoluokitus">,</span>
            <span data-ng-show="justus.julkaisu.jufoluokitus">
            {{i18n.content.form.jufoluokitus[lang]}}: {{justus.julkaisu.jufoluokitus}}
          </span>
          </div>
        </div>
      </div>
    </div>

    <!-- Kenttä: ISSN :: nb! issn vs isbn. required-ehto toimii vaikka isbn:ää ei lomakkeella olisikaan :: näkyy aina -->
    <div class="row form-group"
         id="issnGroup"
         data-ng-if="isFieldVisible('issn')">
      <div class="col-sm-4 col-xs-12">
        <label for="issn"
               class="control-label"
               data-ng-bind="i18n.content.form.issn[lang]">
        </label>
        <i class="fa fa-info-circle justus-info"
           data-popover-trigger="'outsideClick'"
           data-popover-is-open="popoverIsOpen"
           data-ng-mouseenter="popoverIsOpen = true"
           data-popover-placement="right"
           data-uib-popover="{{ julkaisutyyppi_paa == 'F' ? i18n.content.form.issn.tooltipF[lang] : i18n.content.form.issn.tooltip[lang] }}"
           data-ng-show="i18n.content.form.issn.tooltip[lang]">
        </i>
        <i data-ng-if="isFieldRequired('issn')" class="fa fa-asterisk required-star" aria-hidden="true"></i>
        <span data-ng-if="isFieldRequired('issn')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
      </div>
      <div class="col-sm-8 col-xs-12 justus-data">
        <div class="row">

          <div class="col-md-6 col-xs-9">
            <div data-ng-repeat="issn in justus.julkaisu.issn track by $index" data-ng-class="{'mb-x':$first}">
              <input type="text"
                     id="issn"
                     name="issn"
                     class="form-control"
                     data-ng-model="justus.julkaisu.issn[$index]"
                     placeholder="1234-567X"
                     data-ng-keydown="resetValidationError('issn')">
              <span data-ng-if="issnDescription[$index]">{{issnDescription[$index]}}</span>
            </div>
          </div>
          <div class="col-md-6 col-xs-3">
            <div class="p-b mb-x">
              <button
                      type="button"
                      class="btn btn-primary"
                      data-ng-click="justus.julkaisu.issn.push('')"
                      data-ng-hide="!justus.julkaisu.issn[0] || justus.julkaisu.issn[0] === ''"
                      data-ng-disabled="justus.julkaisu.issn.length>1"
                      title="{{i18n.content.form.organisaatiotekija.lisaa.tooltip[lang]}}"
                      data-ng-bind="i18n.content.form.organisaatiotekija.lisaa.tooltip[lang]">
              </button>
            </div>
            <div class="m-t pl-x" data-ng-style="(issnDescription[0]) ? {'padding-top': '18px'} : {}">
              <a
                      data-ng-click="removeIssn()"
                      class="text-danger cursor-pointer text-secondary"
                      data-ng-hide="justus.julkaisu.issn.length<2 || $index === '0'"
                      title="{{i18n.content.form.organisaatiotekija.poista.tooltip[lang]}}">
                {{i18n.content.form.organisaatiotekija.poista.tooltip[lang]}}
                <i class="fa fa-close"></i>
              </a>
            </div>
          </div>
        </div>

        <span class="invalid-pattern text-secondary text-danger" aria-hidden="true"
              data-ng-bind="i18n.content.form.issn.virhe[lang]"></span>
      </div>
    </div>

    <!-- Kenttä: Volyymi :: näkyy aina -->
    <div class="row form-group"
         id="volyymiGroup"
         data-ng-if="isFieldVisible('volyymi')">
      <div class="col-sm-4 col-xs-12">
        <label
                for="volyymi"
                class="control-label"
                data-ng-bind="i18n.content.form.volyymi[lang]">
        </label>
        <i class="fa fa-info-circle justus-info"
           data-popover-trigger="'outsideClick'"
           data-popover-is-open="popoverIsOpen"
           data-ng-mouseenter="popoverIsOpen = true"
           data-popover-placement="right"
           data-uib-popover="{{i18n.content.form.volyymi.tooltip[lang]}}"
           data-ng-show="i18n.content.form.volyymi.tooltip[lang]">
        </i>
        <i data-ng-if="isFieldRequired('volyymi')" class="fa fa-asterisk required-star" aria-hidden="true"></i>
        <span data-ng-if="isFieldRequired('volyymi')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
      </div>
      <div class="col-sm-8 col-xs-12 justus-data">
        <div class="row">
          <div class="col-md-4 col-xs-12">
            <input
                    id="volyymi"
                    name="volyymi"
                    type="text"
                    class="form-control"
                    data-ng-model="justus.julkaisu.volyymi"
                    placeholder="{{ i18n.content.form.volyymi.picktip[lang] }}"
                    data-ng-keydown="resetValidationError('volyymi')">
          </div>
        </div>
      </div>
    </div>

    <!-- Kenttä: Numero :: näkyy aina -->
    <div class="row form-group" id="numeroGroup" data-ng-if="isFieldVisible('numero')">
      <div class="col-sm-4 col-xs-12 col-md-4">
        <label for="numero" class="control-label" data-ng-bind="i18n.content.form.numero[lang]"></label>
        <i class="fa fa-info-circle justus-info"
           data-popover-trigger="'outsideClick'"
           data-popover-is-open="popoverIsOpen"
           data-ng-mouseenter="popoverIsOpen = true"
           data-popover-placement="right"
           data-uib-popover="{{i18n.content.form.numero.tooltip[lang]}}"
           data-ng-show="i18n.content.form.numero.tooltip[lang]">
        </i>
        <i data-ng-if="isFieldRequired('numero')" class="fa fa-asterisk required-star" aria-hidden="true"></i>
        <span data-ng-if="isFieldRequired('numero')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
      </div>
      <div class="col-sm-8 col-xs-12 justus-data">
        <div class="row">
          <div class="col-md-4 cols-xs-12">
            <input
                    id="numero"
                    name="numero"
                    type="text"
                    class="form-control"
                    data-ng-model="justus.julkaisu.numero"
                    placeholder="{{ i18n.content.form.numero.picktip[lang] }}"
                    data-ng-keydown="resetValidationError('numero')">
          </div>
        </div>
      </div>
    </div>

    <!-- Kenttä: Sivut -->
    <div class="row form-group" id="sivutGroup" data-ng-if="isFieldVisible('sivut')">
      <div class="col-sm-4 col-xs-12 col-md-4">
        <label
                for="sivut"
                class="control-label"
                data-ng-bind="i18n.content.form.sivut[lang]">
        </label>
        <i class="fa fa-info-circle justus-info"
           data-popover-trigger="'outsideClick'"
           data-popover-is-open="popoverIsOpen"
           data-ng-mouseenter="popoverIsOpen = true"
           data-popover-placement="right"
           data-uib-popover="{{i18n.content.form.sivut.tooltip[lang]}}"
           data-ng-show="i18n.content.form.sivut.tooltip[lang]">
        </i>
        <i data-ng-if="isFieldRequired('sivut')" class="fa fa-asterisk required-star" aria-hidden="true"></i>
        <span data-ng-if="isFieldRequired('sivut')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
      </div>
      <div class="col-sm-8 col-xs-12 justus-data">
        <div class="row">
          <div class="col-md-4 col-xs-12">
            <input
                    id="sivut"
                    name="sivut"
                    type="text"
                    class="form-control"
                    data-ng-model="justus.julkaisu.sivut"
                    placeholder="{{ i18n.content.form.sivut.picktip[lang] }}"
                    data-ng-keydown="resetValidationError('sivut')">
          </div>
        </div>
      </div>
    </div>

    <!-- Kenttä: Artikkelinumero -->
    <div class="row form-group"
         data-ng-show="isFieldVisible('artikkelinumero')"
         id="artikkelinumeroGroup">
      <div class="col-sm-4 col-xs-12 col-md-4">
        <label for="artikkelinumero" class="control-label"
               data-ng-bind="i18n.content.form.artikkelinumero[lang]"></label>
        <i class="fa fa-info-circle justus-info"
           data-popover-trigger="'outsideClick'"
           data-popover-is-open="popoverIsOpen"
           data-ng-mouseenter="popoverIsOpen = true"
           data-popover-placement="right"
           data-uib-popover="{{i18n.content.form.artikkelinumero.tooltip[lang]}}"
           data-ng-show="i18n.content.form.artikkelinumero.tooltip[lang]">
        </i>
        <i data-ng-if="isFieldRequired('artikkelinumero')" class="fa fa-asterisk required-star" aria-hidden="true"></i>
        <span data-ng-if="isFieldRequired('artikkelinumero')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
      </div>
      <div class="col-sm-8 col-xs-12 justus-data">
        <div class="row">
          <div class="col-md-4 col-xs-12">
            <input
                    id="artikkelinumero"
                    name="artikkelinumero"
                    type="text"
                    class="form-control"
                    data-ng-model="justus.julkaisu.artikkelinumero"
                    placeholder="{{ i18n.content.form.artikkelinumero.picktip[lang] }}"
                    data-ng-keydown="resetValidationError('artikkelinumero')">
          </div>
        </div>
      </div>
    </div>

    <!-- Kenttä: Kustantaja -->
    <div class="row form-group" data-ng-if="isFieldVisible('kustantaja')" id="kustantajaGroup">
      <div class="col-sm-4 col-xs-12">
        <label
                for="kustantaja"
                class="control-label"
                data-ng-bind="i18n.content.form.kustantaja[lang]">
        </label>
        <i class="fa fa-info-circle justus-info"
           data-popover-trigger="'outsideClick'"
           data-popover-is-open="popoverIsOpen"
           data-ng-mouseenter="popoverIsOpen = true"
           data-popover-placement="right"
           data-uib-popover="{{julkaisutyyppi_paa == 'F' ? i18n.content.form.kustantaja.tooltipF[lang] : i18n.content.form.kustantaja.tooltip[lang]}}"
           data-ng-show="i18n.content.form.kustantaja.tooltip[lang]">
        </i>
        <i data-ng-if="isFieldRequired('kustantaja')" class="fa fa-asterisk required-star" aria-hidden="true"></i>
        <span data-ng-if="isFieldRequired('kustantaja')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
      </div>
      <div class="col-sm-8 col-xs-12 justus-data"
           data-ng-model="req_kustantaja" data-ng-required="requiredHighlight && !isValid('kustantaja')">
        <div class="row">
          <div class="col-xs-11">
            <input
                  id="kustantaja"
                  name="kustantaja"
                  type="text" class="form-control"
                  data-ng-model="justus.julkaisu.kustantaja"
                  data-uib-typeahead="kustantajanimet.Name for kustantajanimet in refreshKanavanimet(2,$viewValue)"
                  data-typeahead-loading="jufoKustantajaLataa"
                  data-typeahead-no-results="jufoNoResults"
                  data-typeahead-wait-ms="2000"
                  placeholder="{{i18n.content.form.kustantaja.picktip[lang]}}"
                  data-ng-keydown="resetValidationError('kustantaja')">
          </div>
          <div class="col-xs-1">
            <i class='fa fa-spinner fa-spin fa-lg' data-ng-show='jufoKustantajaLataa'></i>
          </div>
        </div>
      </div>
    </div>

    <!-- Kenttä: Julkaisun kustannuspaikka -->
    <div class="row form-group"
         data-ng-if="isFieldVisible('julkaisunkustannuspaikka')"
         id="julkaisunkustannuspaikkaGroup">
      <div class="col-sm-4 col-xs-12">
        <label
                for="julkaisunkustannuspaikka"
                class="control-label"
                data-ng-bind="i18n.content.form.julkaisunkustannuspaikka[lang]">
        </label>
        <i class="fa fa-info-circle justus-info"
           data-popover-trigger="'outsideClick'"
           data-popover-is-open="popoverIsOpen"
           data-ng-mouseenter="popoverIsOpen = true"
           data-popover-placement="right"
           data-uib-popover="{{julkaisutyyppi_paa == 'F' ? i18n.content.form.julkaisunkustannuspaikka.tooltipF[lang] : i18n.content.form.julkaisunkustannuspaikka.tooltip[lang]}}"
           data-ng-show="i18n.content.form.julkaisunkustannuspaikka.tooltip[lang]">
        </i>
        <i data-ng-if="isFieldRequired('julkaisunkustannuspaikka')" class="fa fa-asterisk required-star"
           aria-hidden="true"></i>
        <span data-ng-if="isFieldRequired('julkaisunkustannuspaikka')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
      </div>
      <div class="col-sm-8 col-xs-12 justus-data">
        <div class="row">
          <div class="col-md-4 col-xs-12">
            <input
                    id="julkaisunkustannuspaikka"
                    name="julkaisunkustannuspaikka"
                    type="text"
                    class="form-control"
                    data-ng-model="justus.julkaisu.julkaisunkustannuspaikka"
                    placeholder="{{ i18n.content.form.julkaisunkustannuspaikka.picktip[lang] }}"
                    data-ng-keydown="resetValidationError('julkaisunkustannuspaikka')">
          </div>
        </div>
      </div>
    </div>
</div>

  <div class="row px">
    <div class="col-xs-12">
      <p class="text-danger font-xl">{{i18n.content.form.pakolliset[lang]}}  <i class="fa fa-asterisk required-star" ></i>
      </p>
    </div>
  </div>

  <h3 class="form-header text-secondary">{{i18n.content.tietojensyotto.muut[lang]}}</h3>

   <div class="px">
  <!-- loput kentät -->
  <!-- Kenttä: Avainsanat -->
     <div class="row form-group" id="avainsanatGroup" data-ng-if="isFieldVisible('avainsanat')">
       <div class="col-sm-4 col-xs-12">
         <label id="avainsanat" class="control-label" data-ng-bind="i18n.content.form.avainsanat[lang]"></label>
         <i class="fa fa-info-circle justus-info"
            data-popover-trigger="'outsideClick'"
            data-popover-is-open="popoverIsOpen"
            data-ng-mouseenter="popoverIsOpen = true"
            data-popover-placement="right"
            data-uib-popover="{{i18n.content.form.avainsanat.tooltip[lang]}}"
            data-ng-show="i18n.content.form.avainsanat.tooltip[lang]">
         </i>
         <i data-ng-if="isFieldRequired('avainsanat')" class="fa fa-asterisk required-star" aria-hidden="true"></i>
         <span data-ng-if="isFieldRequired('avainsanat')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
       </div>
       <div class="col-sm-8 col-xs-12 justus-data">
         <tags-input
                 data-ng-model="avainsanatTags"
                 data-replace-spaces-with-dashes="false"
                 data-add-on-comma="true"
                 data-add-on-space="false"
                 placeholder="{{i18n.content.form.avainsanat.picktip[lang]}}"
                 data-on-tag-added="addAvainsana($tag)"
                 data-on-tag-removed="removeAvainsana()"
                 data-enable-editing-last-tag="true"
                 display-property="prefLabel"
                 track-by-expr="$index"
                 data-add-on-blur="false"
                 data-min-length="1"
                 data-ng-keydown="resetValidationError('avainsanat')">
           <auto-complete
                   data-source="refreshAvainsanat($query)"
                   data-load-on-down-arrow="true"
                   data-min-length="1"
                   data-debounce-delay="200"
                   data-select-first-match="true"
                   max-results-to-show="300">
           </auto-complete>
         </tags-input>
       </div>
     </div>

     <!-- Kenttä: Julkaisun kieli -->
     <div class="row form-group" id="julkaisunkieliGroup" data-ng-if="isFieldVisible('julkaisunkieli')">
       <div class="col-sm-4 col-xs-12">
         <label id="julkaisunkieli" class="control-label"
                data-ng-bind="i18n.content.form.julkaisunkieli[lang]"></label>
         <i class="fa fa-info-circle justus-info"
            data-popover-trigger="'outsideClick'"
            data-popover-is-open="popoverIsOpen"
            data-ng-mouseenter="popoverIsOpen = true"
            data-popover-placement="right"
            data-uib-popover="{{julkaisutyyppi_paa == 'F' ? i18n.content.form.julkaisunkieli.tooltipF[lang] : i18n.content.form.julkaisunkieli.tooltip[lang]}}"
            data-ng-show="i18n.content.form.julkaisunkieli.tooltip[lang]">
         </i>
         <i data-ng-if="isFieldRequired('julkaisunkieli')" class="fa fa-asterisk required-star" aria-hidden="true"></i>
         <span data-ng-if="isFieldRequired('julkaisunkieli')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
       </div>
       <div class="col-sm-8 col-xs-12 justus-data">
         <div class="row">
           <div class="col-xs-10">
               <ui-select
                          data-ng-model="julkaisunkieli.selected"
                          data-ng-class="{ 'strong-placeholder': justus.julkaisu.julkaisunkieli }"
                          on-select="useField('julkaisu', 'julkaisunkieli', $select.selected.arvo.toLowerCase())"
                          theme="bootstrap">
                 <ui-select-match class="ui-select-match"
                                  placeholder="{{getSelite(codes.kieli, justus.julkaisu.julkaisunkieli.toUpperCase()) || i18n.content.form.julkaisunkieli.picktip[lang]}}">
                   {{ $select.selected.selite }}
                 </ui-select-match>
                 <ui-select-choices
                         aria-labelledby="julkaisunkieli"
                         role="option"
                         repeat="o in codes['kieli'] | orderBy: 'selite' | filter: $select.search"
                         ui-disable-choice="o.nogo">
                    {{o.selite }}
                 </ui-select-choices>
               </ui-select>
           </div>
           <div class="col-xs-2 mt-x">
             <a
                     data-ng-click="resetField('julkaisunkieli')"
                     class="text-danger cursor-pointer text-secondary"
                     data-ng-hide="!justus.julkaisu.julkaisunkieli || justus.julkaisu.julkaisunkieli === ''"
                     title="{{i18n.content.rinnakkaistallennusform.rinnakkaistallennettava.form.tyhjenna[lang]}}">
               {{i18n.content.rinnakkaistallennusform.rinnakkaistallennettava.form.tyhjenna[lang]}}
               <i class="fa fa-close"></i>
             </a>
           </div>
         </div>
       </div>
     </div>

     <!-- Kenttä: Julkaisun kansainvälisyys -->
     <div class="row form-group"
          id="julkaisunkansainvalisyysGroup"
          data-ng-if="isFieldVisible('julkaisunkansainvalisyys')">
       <div class="col-sm-4 col-xs-12">
         <label class="control-label"
                data-ng-bind="i18n.content.form.julkaisunkansainvalisyys[lang]">
         </label>
         <i class="fa fa-info-circle justus-info"
            data-popover-trigger="'outsideClick'"
            data-popover-is-open="popoverIsOpen"
            data-ng-mouseenter="popoverIsOpen = true"
            data-popover-placement="right"
            data-uib-popover="{{julkaisutyyppi_paa == 'F' ? i18n.content.form.julkaisunkansainvalisyys.tooltipF[lang] : i18n.content.form.julkaisunkansainvalisyys.tooltip[lang]}}"
            data-ng-show="i18n.content.form.julkaisunkansainvalisyys.tooltip[lang]">
         </i>
         <i data-ng-if="isFieldRequired('julkaisunkansainvalisyys')" class="fa fa-asterisk required-star"
            aria-hidden="true"></i>
         <span data-ng-if="isFieldRequired('julkaisunkansainvalisyys')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
       </div>
       <div class="col-sm-8 col-xs-12 justus-data"
            data-ng-model="req_julkaisunkansainvalisyys">
         <div class="row">
           <div class="col-xs-10">
             <input type="radio"
                    id="kansainvalinen"
                    data-ng-model="justus.julkaisu.julkaisunkansainvalisyys"
                    value="1"
                    data-ng-change="resetValidationError('julkaisunkansainvalisyys')">
             <label for="kansainvalinen" data-ng-model="lab1_julkaisunkansainvalisyys"
                    class="control-label">
               {{i18n.content.form.julkaisunkansainvalisyys['1'][lang]}}
             </label>
             <input  type="radio"
                     id="kotimainen"
                     data-ng-model="justus.julkaisu.julkaisunkansainvalisyys"
                     value="0"
                     data-ng-change="resetValidationError('julkaisunkansainvalisyys')">
             <label for="kotimainen" data-ng-model="lab2_julkaisunkansainvalisyys"
                    class="control-label">
               {{i18n.content.form.julkaisunkansainvalisyys['0'][lang]}}
             </label>
           </div>
         </div>
       </div>
     </div>

     <!-- Kenttä: Julkaisumaa -->
     <div class="row form-group" data-ng-if="isFieldVisible('julkaisumaa')" id="julkaisumaaGroup">
       <div class="col-sm-4 col-xs-12">
         <label id="julkaisumaa"
                class="control-label"
                data-ng-bind="i18n.content.form.julkaisumaa[lang]">
         </label>
         <i class="fa fa-info-circle justus-info"
            data-popover-trigger="'outsideClick'"
            data-popover-is-open="popoverIsOpen"
            data-ng-mouseenter="popoverIsOpen = true"
            data-popover-placement="right"
            data-uib-popover="{{julkaisutyyppi_paa == 'F' ? i18n.content.form.julkaisumaa.tooltipF[lang] : i18n.content.form.julkaisumaa.tooltip[lang]}}"
            data-ng-show="i18n.content.form.julkaisumaa.tooltip[lang]">
         </i>
         <i data-ng-if="isFieldRequired('julkaisumaa')" class="fa fa-asterisk required-star" aria-hidden="true"></i>
         <span data-ng-if="isFieldRequired('julkaisumaa')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
       </div>
       <div class="col-sm-8 col-xs-12 justus-data">
         <div class="row">
           <div class="col-xs-10">
             <ui-select
                     data-ng-model="julkaisumaa.selected"
                     data-ng-class="{ 'strong-placeholder': justus.julkaisu.julkaisumaa }"
                     on-select="useField('julkaisu', 'julkaisumaa', $select.selected.arvo)"
                     theme="bootstrap">
               <ui-select-match class="ui-select-match"
                                placeholder="{{getSelite(codes.maatjavaltiot2, justus.julkaisu.julkaisumaa) || i18n.content.form.julkaisumaa.picktip[lang]}}">
                 {{ $select.selected.selite }}
               </ui-select-match>
               <ui-select-choices
                       aria-labelledby="julkaisumaa"
                       role="option"
                       repeat="o in codes['maatjavaltiot2'] | orderBy: 'selite' | filter: $select.search"
                       ui-disable-choice="o.nogo">
                 {{o.arvo }} {{o.selite }}
               </ui-select-choices>
             </ui-select>
           </div>
           <div class="col-xs-2 mt-x">
             <a
               data-ng-click="resetField('julkaisumaa')"
               class="text-danger cursor-pointer text-secondary"
               data-ng-hide="!justus.julkaisu.julkaisumaa || justus.julkaisu.julkaisumaa === ''"
               title="{{i18n.content.rinnakkaistallennusform.rinnakkaistallennettava.form.tyhjenna[lang]}}">
               {{i18n.content.rinnakkaistallennusform.rinnakkaistallennettava.form.tyhjenna[lang]}}
               <i class="fa fa-close"></i>
             </a>
           </div>
         </div>
       </div>
     </div>

     <!-- Kenttä: Julkistamispaikkakunta -->
     <div class="row form-group" data-ng-if="isFieldVisible('julkistamispaikkakunta')" id="julkistamispaikkakuntaGroup">
       <div class="col-sm-4 col-xs-12">
         <label for="julkistamispaikkakunta"
                class="control-label"
                data-ng-bind="i18n.content.form.julkistamispaikkakunta[lang]">
         </label>
         <i class="fa fa-info-circle justus-info"
            data-popover-trigger="'outsideClick'"
            data-popover-is-open="popoverIsOpen"
            data-ng-mouseenter="popoverIsOpen = true"
            data-popover-placement="right"
            data-uib-popover="{{i18n.content.form.julkistamispaikkakunta.tooltip[lang]}}"
            data-ng-show="i18n.content.form.julkistamispaikkakunta.tooltip[lang]">
         </i>
         <i data-ng-if="isFieldRequired('julkistamispaikkakunta')"
            class="fa fa-asterisk required-star"
            aria-hidden="true"></i>
         <span data-ng-if="isFieldRequired('julkistamispaikkakunta')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
       </div>
       <div class="col-sm-8 col-xs-12 justus-data"
            data-ng-model="justus.lisatieto.julkistamispaikkakunta"
            data-ng-required="requiredHighlight && !isValid('julkistamispaikkakunta')">
         <div class="row">
           <div class="col-xs-12">
            <textarea
                    id="julkistamispaikkakunta"
                    name="julkistamispaikkakunta"
                    class="form-control vertical-resize"
                    rows="1"
                    maxlength="1000"
                    placeholder="{{i18n.content.form.julkistamispaikkakunta.picktip[lang]}}"
                    data-ng-model="justus.lisatieto.julkistamispaikkakunta" style="height: 40px">
            </textarea>
           </div>
         </div>
       </div>
     </div>

     <!-- Kenttä: Tapahtuman lisätieto -->
     <div class="row form-group" data-ng-if="isFieldVisible('tapahtumanlisatieto')" id="tapahtumalisatietoGroup">
       <div class="col-sm-4 col-xs-12">
         <label for="tapahtumanlisatieto" class="control-label"
                data-ng-bind="i18n.content.form.tapahtumanlisatieto[lang]">
         </label>
         <i class="fa fa-info-circle justus-info"
            data-popover-trigger="'outsideClick'"
            data-popover-is-open="popoverIsOpen"
            data-ng-mouseenter="popoverIsOpen = true"
            data-popover-placement="right"
            data-uib-popover="{{i18n.content.form.tapahtumanlisatieto.tooltip[lang]}}"
            data-ng-show="i18n.content.form.tapahtumanlisatieto.tooltip[lang]">
         </i>
         <i data-ng-if="isFieldRequired('tapahtumanlisatieto')" class="fa fa-asterisk required-star" aria-hidden="true"></i>
         <span data-ng-if="isFieldRequired('tapahtumanlisatieto')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
       </div>
       <div class="col-sm-8 col-xs-12 justus-data"
            data-ng-model="req_tapahtuma" data-ng-required="requiredHighlight && !isValid('lisatieto')">
         <div class="row">
           <div class="col-xs-12">
            <textarea id="tapahtumanlisatieto"
                      name="tapahtumanlisatieto"
                      class="form-control vertical-resize"
                      rows="1"
                      maxlength="1000"
                      placeholder="{{i18n.content.form.tapahtumanlisatieto.picktip[lang]}}"
                      data-ng-model="justus.lisatieto.tapahtuma">
            </textarea>
           </div>
         </div>
       </div>
     </div>


     <!-- Kenttä: Julkaisun tieteenala -->
     <div class="row form-group"
          id="tieteenalaGroup"
          data-ng-if="isFieldVisible('tieteenala')">
       <div class="col-sm-4 col-xs-12">
         <label for="tieteenala"
                class="control-label"
                data-ng-bind="i18n.content.form.tieteenala[lang]">
         </label>
         <i class="fa fa-info-circle justus-info"
            data-popover-trigger="'outsideClick'"
            data-popover-is-open="popoverIsOpen"
            data-ng-mouseenter="popoverIsOpen = true"
            data-popover-placement="right"
            data-uib-popover-html="{{julkaisutyyppi_paa == 'F' ? 'tieteenalaTooltipTextF' : 'tieteenalaTooltipText' }}"
            data-ng-show="i18n.content.form.tieteenala.tooltip[lang]">
         </i>
         <i data-ng-if="isFieldRequired('tieteenala')" class="fa fa-asterisk required-star" aria-hidden="true"></i>
         <span data-ng-if="isFieldRequired('tieteenala')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
       </div>
       <div class="col-sm-8 col-xs-12 justus-data">
         <div data-ng-repeat="i in justus.tieteenala track by $index"
              class="row">
           <div class="col-xs-8">
             <div class="form-group">
               <span class="text-secondary font-weight-bold text-xl" data-ng-bind="$index+1 + '. ' + i.tieteenalakoodi+' '+getSelite(codes.tieteenalat, i.tieteenalakoodi)"></span>
             </div>
           </div>
           <div class="col-xs-4">
             <a id="tieteenala"
                data-ng-click="justus.tieteenala.splice($index, 1)"
                class="text-danger cursor-pointer text-secondary"
                title="{{i18n.content.form.tieteenala.poista.tooltip[lang]}}">
                  {{i18n.content.form.tieteenala.poista.tooltip[lang]}}
               <i class="fa fa-close" aria-hidden="true"></i>
             </a>
           </div>
         </div>
         <div class="row">
           <div class="col-sm-5 col-xs-12 form-group">
             <ui-select
                     role="listbox"
                     aria-label="paatieteenala"
                     data-ng-model="tieteenala.selected"
                     on-select="useTieteenala($select.selected)"
                     theme="bootstrap">
               <ui-select-match class="ui-select-match"

                                placeholder="{{i18n.content.form.tieteenala.paa.picktip[lang]}}">
                 {{ $select.selected.arvo }} {{ $select.selected.selite }}
               </ui-select-match>
               <ui-select-choices role="option"
                                  repeat="o in codes.tieteenalat | orderBy: 'arvo' | filter: $select.search">
                 {{o.arvo}} {{o.selite}}
               </ui-select-choices>
             </ui-select>
           </div>
           <div class="col-sm-7 col-xs-12 form-group"
                data-ALWAYS-ng-show="tieteenala_paa">
             <div data-ng-repeat="p in codes.tieteenalat"
                  data-ng-if="p.arvo==tieteenala_paa">
               <ui-select
                       role="listbox"
                       aria-label="alatieteenala"
                       data-ng-model="alatieteenalat.selected"
                       on-select="useTieteenala($select.selected); resetValidationError('tieteenala')"
                       theme="bootstrap">
                 <ui-select-match class="ui-select-match"
                                  allow-clear="true"
                                  placeholder="{{i18n.content.form.tieteenala.ala.picktip[lang]}}">
                   {{ $select.selected.arvo }} {{ $select.selected.selite }}
                 </ui-select-match>
                 <ui-select-choices role="option"
                                    repeat="o in alatieteenalat | orderBy: 'arvo' | filter: $select.search">
                   {{o.arvo}} {{o.selite }}
                 </ui-select-choices>
               </ui-select>
             </div>
             <!--dev--><!-- when paatieteenala not selected/used above --><!--enddev-->
             <!--dev--><!-- hack... now parent.index... --><!--enddev-->
               <div data-ng-if="!tieteenala_paa">
                 <ui-select data-ng-model="alatieteenalat.selected"
                            on-select="useTieteenala($select.selected); resetValidationError('tieteenala')"
                            theme="bootstrap">
                   <ui-select-match class="ui-select-match"
                                    placeholder="{{i18n.content.form.tieteenala.ala.picktip[lang]}}">
                     {{ $select.selected.arvo }} {{ $select.selected.selite }}
                   </ui-select-match>
                   <ui-select-choices repeat="o in getAlltieteenalat() | orderBy: 'arvo'"
                                      ui-disable-choice="o.nogo">
                     {{o.arvo}} {{o.selite }}
                   </ui-select-choices>
                 </ui-select>
               </div>
           </div>
         </div>
       </div>
     </div>

     <!-- Kenttä: Julkaisun taiteenala -->
     <div class="row form-group"
          id="taiteenalaGroup"
          data-ng-if="isFieldVisible('taiteenala')">
       <div class="col-sm-4 col-xs-12">
         <label
                 for="taiteenala"
                 class="control-label"
                 data-ng-bind="i18n.content.form.taiteenala[lang]"
         >
         </label>
         <i class="fa fa-info-circle justus-info"
            data-popover-trigger="'outsideClick'"
            data-popover-is-open="popoverIsOpen"
            data-ng-mouseenter="popoverIsOpen = true"
            data-popover-placement="right"
            data-uib-popover="{{i18n.content.form.taiteenala.tooltip[lang]}}"
            data-ng-show="i18n.content.form.taiteenala.tooltip[lang]">
         </i>
         <i data-ng-if="isFieldRequired('taiteenala')" class="fa fa-asterisk required-star" aria-hidden="true"></i>
         <span data-ng-if="isFieldRequired('taiteenala')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
       </div>
       <div class="col-xs-10 col-sm-8 justus-data">

         <div data-ng-repeat="i in justus.taiteenala track by $index"
              class="row">
           <div class="col-xs-8">
             <div class="form-group">
               <span class="text-secondary font-weight-bold text-xl" data-ng-bind="$index+1 + '. ' + i.taiteenalakoodi+' '+getSelite(codes.taiteenalat, i.taiteenalakoodi)"></span>
             </div>
           </div>
           <div class="col-xs-4">
             <a id="taiteenala"
                data-ng-click="justus.taiteenala.splice($index, 1)"
                class="text-danger cursor-pointer text-secondary"
                title="{{i18n.content.form.taiteenala.poista.tooltip[lang]}}">
               {{i18n.content.form.taiteenala.poista.tooltip[lang]}}
               <i class="fa fa-close" aria-hidden="true"></i>
             </a>
           </div>
         </div>
         <div class="row">
           <div class="col-xs-10 form-group">
             <ui-select
                     role="listbox"
                     aria-label="taiteenalaselect"
                     data-ng-model="taiteenala.selected"
                     on-select="useTaiteenala($select.selected.arvo); resetValidationError('taiteenala')"
                     theme="bootstrap">
               <ui-select-match class="ui-select-match"
                                data-ng-value="justus.taiteenala"
                                placeholder="{{i18n.content.form.taiteenala.picktip[lang]}}">
                 {{ $select.selected.arvo }} {{ $select.selected.selite }}
               </ui-select-match>
               <ui-select-choices role="option"
                                  repeat="code in codes.taiteenalat | orderBy: 'arvo' | filter: $select.search">
                 {{code.arvo}} {{code.selite}}
               </ui-select-choices>
             </ui-select>
           </div>
         </div>
       </div>
     </div>

     <!-- Taiteenalan tyyppikategoria-->
     <div class="row form-group"
          id="taidealantyyppikategoriaGroup"
          data-ng-if="isFieldVisible('taidealantyyppikategoria')">
       <div class="col-sm-4 col-xs-12">
         <label for="taidealantyyppikategoria"
                class="control-label"
                data-ng-bind="i18n.content.form.taidealantyyppikategoria[lang]">
         </label>
         <i class="fa fa-info-circle justus-info"
            data-popover-trigger="'outsideClick'"
            data-popover-is-open="popoverIsOpen"
            data-ng-mouseenter="popoverIsOpen = true"
            data-popover-placement="right"
            data-uib-popover="{{i18n.content.form.taidealantyyppikategoria.tooltip[lang]}}"
            data-ng-show="i18n.content.form.taidealantyyppikategoria.tooltip[lang]">
         </i>
         <i data-ng-if="isFieldRequired('taidealantyyppikategoria')" class="fa fa-asterisk required-star"
            aria-hidden="true"></i>
         <span data-ng-if="isFieldRequired('taidealantyyppikategoria')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
       </div>
       <div class="col-xs-10 col-sm-8 justus-data">

         <div data-ng-repeat="i in justus.taidealantyyppikategoria track by $index"
              class="row">
           <div class="col-xs-8">
             <div class="form-group">
               <span class="text-secondary font-weight-bold text-xl" data-ng-bind="$index+1 + '. ' + i + ' ' +getSelite(codes.taidealantyypit, i)"></span>
             </div>
           </div>
           <div class="col-xs-4">
             <a id="taidealantyyppikategoria"
                data-ng-click="justus.taidealantyyppikategoria.splice($index, 1)"
                class="text-danger cursor-pointer text-secondary"
                title="{{i18n.content.form.taidealantyyppikategoria.poista.tooltip[lang]}}">
               {{i18n.content.form.taidealantyyppikategoria.poista.tooltip[lang]}}
               <i class="fa fa-close" aria-hidden="true"></i>
             </a>
           </div>
         </div>
         <div class="row">
           <div class="col-xs-10 form-group">
             <ui-select role="listbox"
                        aria-label="tyyppikategoriaselect"
                        data-ng-model="taidealantyyppikategoria.selected"
                        on-select="useTaidelanTyyppi($select.selected.arvo); resetValidationError('taidealantyyppikategoria')"
                        theme="bootstrap">
               <ui-select-match class="ui-select-match"
                                data-ng-value="justus.taidealantyyppikategoria"
                                placeholder="{{i18n.content.form.taidealantyyppikategoria.picktip[lang]}}">
                 {{ $select.selected.arvo }} {{ $select.selected.selite }}
               </ui-select-match>
               <ui-select-choices role="option"
                                  repeat="code in codes.taidealantyypit | orderBy: 'arvo' | filter: $select.search">
                 {{code.arvo}} {{code.selite}}
               </ui-select-choices>
             </ui-select>
           </div>
         </div>
       </div>
     </div>

     <!-- Kenttä: Kansainvälinen yhteisjulkaisu -->
     <div class="row form-group"
          id="kansainvalinenyhteisjulkaisuGroup"
          data-ng-if="isFieldVisible('kansainvalinenyhteisjulkaisu')">
       <div class="col-sm-4 col-xs-12">
         <label class="control-label"
                data-ng-bind="i18n.content.form.kansainvalinenyhteisjulkaisu[lang]">
         </label>
         <i class="fa fa-info-circle justus-info"
            data-popover-trigger="'outsideClick'"
            data-popover-is-open="popoverIsOpen"
            data-ng-mouseenter="popoverIsOpen = true"
            data-popover-placement="right"
            data-uib-popover="{{julkaisutyyppi_paa == 'F' ? i18n.content.form.kansainvalinenyhteisjulkaisu.tooltipF[lang] : i18n.content.form.kansainvalinenyhteisjulkaisu.tooltip[lang]}}"
            data-ng-show="i18n.content.form.kansainvalinenyhteisjulkaisu.tooltip[lang]">
         </i>
         <i data-ng-if="isFieldRequired('kansainvalinenyhteisjulkaisu')" class="fa fa-asterisk required-star"
            aria-hidden="true"></i>
         <span data-ng-if="isFieldRequired('kansainvalinenyhteisjulkaisu')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
       </div>
       <div class="col-sm-8 col-xs-12 justus-data"
            data-ng-model="req_kansainvalinenyhteisjulkaisu"
            data-ng-required="requiredHighlight && !isValid('kansainvalinenyhteisjulkaisu')">
         <div class="row">
           <div class="col-xs-10">
             <input id="kansainvalinenyhteisjulkaisu"
                    name="kansainvalinenyhteisjulkaisu"
                    type="radio"
                    data-ng-model="justus.julkaisu.kansainvalinenyhteisjulkaisu"
                    value="1"
                    data-ng-change="resetValidationError('kansainvalinenyhteisjulkaisu')">
             <label for="kansainvalinenyhteisjulkaisu" data-ng-model="lab1_kansainvalinenyhteisjulkaisu"
                    class="control-label">
               {{i18n.content.form.kansainvalinenyhteisjulkaisu['1'][lang]}}
             </label>
             <input type="radio"
                    id="eikansainvalinenyhteisjulkaisu"
                    name="eikansainvalinenyhteisjulkaisu"
                    data-ng-model="justus.julkaisu.kansainvalinenyhteisjulkaisu"
                    value="0"
                    data-ng-change="resetValidationError('kansainvalinenyhteisjulkaisu')">
             <label for="eikansainvalinenyhteisjulkaisu"
                    data-ng-model="lab2_kansainvalinenyhteisjulkaisu"
                    class="control-label">
               {{i18n.content.form.kansainvalinenyhteisjulkaisu['0'][lang]}}
             </label>
           </div>
         </div>
       </div>
     </div>

     <!-- Kenttä: Yhteisjulkaisu yrityksen kanssa -->
     <div class="row form-group"
          id="yhteisjulkaisuyrityksenkanssaGroup"
          data-ng-if="isFieldVisible('yhteisjulkaisuyrityksenkanssa')">
       <div class="col-sm-4 col-xs-12">
         <label class="control-label"
                data-ng-bind="i18n.content.form.yhteisjulkaisuyrityksenkanssa[lang]">
         </label>
         <i class="fa fa-info-circle justus-info"
            data-popover-trigger="'outsideClick'"
            data-popover-is-open="popoverIsOpen"
            data-ng-mouseenter="popoverIsOpen = true"
            data-popover-placement="right"
            data-uib-popover="{{i18n.content.form.yhteisjulkaisuyrityksenkanssa.tooltip[lang]}}"
            data-ng-show="i18n.content.form.yhteisjulkaisuyrityksenkanssa.tooltip[lang]">
         </i>
         <i data-ng-if="isFieldRequired('yhteisjulkaisuyrityksenkanssa')" class="fa fa-asterisk required-star"
            aria-hidden="true"></i>
         <span data-ng-if="isFieldRequired('yhteisjulkaisuyrityksenkanssa')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
       </div>
       <div class="col-sm-8 col-xs-12 justus-data"
            data-ng-model="req_yhteisjulkaisuyrityksenkanssa"
            data-ng-required="requiredHighlight && !isValid('yhteisjulkaisuyrityksenkanssa')">
         <div class="row">
           <div class="col-xs-10">
             <input id="yhteisjulkaisuyrityksenkanssa"
                    name="yhteisjulkaisuyrityksenkanssa"
                    type="radio"
                    data-ng-model="justus.julkaisu.yhteisjulkaisuyrityksenkanssa"
                    value="1"
                    data-ng-change="resetValidationError('yhteisjulkaisuyrityksenkanssa')">
             <label for="yhteisjulkaisuyrityksenkanssa"
                    data-ng-model="lab1_yhteisjulkaisuyrityksenkanssa"
                    class="control-label">
               {{i18n.content.form.yhteisjulkaisuyrityksenkanssa['1'][lang]}}
             </label>
             <input id="eiyhteisjulkaisuyrityksenkanssa"
                    name="eiyhteisjulkaisuyrityksenkanssa"
                    type="radio"
                    data-ng-model="justus.julkaisu.yhteisjulkaisuyrityksenkanssa"
                    value="0"
                    data-ng-change="resetValidationError('yhteisjulkaisuyrityksenkanssa')">
             <label for="eiyhteisjulkaisuyrityksenkanssa"
                    data-ng-model="lab2_yhteisjulkaisuyrityksenkanssa"
                    class="control-label">
               {{i18n.content.form.yhteisjulkaisuyrityksenkanssa['0'][lang]}}
             </label>
           </div>
         </div>
       </div>
     </div>

     <!-- Kenttä: DOI-tunniste -->
     <div class="row form-group"
          id="doitunnisteGroup"
          data-ng-if="isFieldVisible('doitunniste')">
       <div class="col-sm-4 col-xs-12">
         <label for="doitunniste"
                class="control-label"
                data-ng-bind="i18n.content.form.doitunniste[lang]">
         </label>
         <i class="fa fa-info-circle justus-info"
            data-popover-trigger="'outsideClick'"
            data-popover-is-open="popoverIsOpen"
            data-ng-mouseenter="popoverIsOpen = true"
            data-popover-placement="right"
            data-uib-popover="{{i18n.content.form.doitunniste.tooltip[lang]}}"
            data-ng-show="i18n.content.form.doitunniste.tooltip[lang]">
         </i>
         <i data-ng-if="isFieldRequired('doitunniste')" class="fa fa-asterisk required-star" aria-hidden="true"></i>
         <span data-ng-if="isFieldRequired('doitunniste')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
       </div>
       <div class="col-sm-8 col-xs-12 justus-data">
         <div class="row">
           <div class="col-xs-12">
             <input id="doitunniste"
                    name="doitunniste"
                    type="text"
                    class="form-control"
                    data-ng-model="justus.julkaisu.doitunniste"
                    placeholder="{{ i18n.content.form.doitunniste.picktip[lang] }}"
                    data-ng-keydown="resetValidationError('doitunniste')">
           </div>
         </div>
       </div>
     </div>

     <!-- Kenttä: Muu tunniste lisätieto -->
     <div class="row form-group" data-ng-if="isFieldVisible('muutunniste')" id="muutunnisteGroup">
       <div class="col-sm-4 col-xs-12">
         <label for="muutunniste" class="control-label" data-ng-bind="i18n.content.form.muutunniste[lang]">
         </label>
         <i class="fa fa-info-circle justus-info"
            data-popover-trigger="'outsideClick'"
            data-popover-is-open="popoverIsOpen"
            data-ng-mouseenter="popoverIsOpen = true"
            data-popover-placement="right"
            data-uib-popover="{{i18n.content.form.muutunniste.tooltip[lang]}}"
            data-ng-show="i18n.content.form.muutunniste.tooltip[lang]">
         </i>
         <i data-ng-if="isFieldRequired('muutunniste')" class="fa fa-asterisk required-star" aria-hidden="true"></i>
         <span data-ng-if="isFieldRequired('muutunniste')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
       </div>
       <div class="col-sm-8 col-xs-12 justus-data"
            data-ng-model="req_muutunniste" data-ng-required="requiredHighlight && !isValid('muutunniste')">
         <div class="row">
           <div class="col-xs-12">
          <textarea id="muutunniste"
                    name="muutunniste"
                    class="form-control vertical-resize"
                    rows="1"
                    maxlength="1000"
                    placeholder="{{i18n.content.form.muutunniste.picktip[lang]}}"
                    data-ng-model="justus.lisatieto.muutunniste"
                    data-ng-keydown="resetValidationError('muutunniste')">
          </textarea>
           </div>
         </div>
       </div>
     </div>

     <!-- Kenttä: Pysyvä verkko-osoite -->
     <div class="row form-group"
          id="pysyvaverkkoosoiteGroup"
          data-ng-if="isFieldVisible('pysyvaverkkoosoite')">
       <div class="col-sm-4 col-xs-12">
         <label for="pysyvaverkkoosoite" class="control-label"
                data-ng-bind="i18n.content.form.pysyvaverkkoosoite[lang]"></label>
         <i class="fa fa-info-circle justus-info"
            data-popover-trigger="'outsideClick'"
            data-popover-is-open="popoverIsOpen"
            data-ng-mouseenter="popoverIsOpen = true"
            data-popover-placement="right"
            data-uib-popover="{{i18n.content.form.pysyvaverkkoosoite.tooltip[lang]}}"
            data-ng-show="i18n.content.form.pysyvaverkkoosoite.tooltip[lang]">
         </i>
         <i data-ng-if="isFieldRequired('pysyvaverkkoosoite')" class="fa fa-asterisk required-star"
            aria-hidden="true"></i>
         <span data-ng-if="isFieldRequired('pysyvaverkkoosoite')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
       </div>
       <div class="col-sm-8 col-xs-12 justus-data">
         <div class="row">
           <div class="col-xs-12">
             <input id="pysyvaverkkoosoite"
                    name="pysyvaverkkoosoite"
                    type="text"
                    class="form-control"
                    data-ng-model="justus.julkaisu.pysyvaverkkoosoite"
                    placeholder="{{ i18n.content.form.pysyvaverkkoosoite.picktip[lang] }}"
                    data-ng-keydown="resetValidationError('pysyvaverkkoosoite')">
           </div>
         </div>
       </div>
     </div>

     <!-- Kenttä: Avoin saatavuus -->
     <div class="row form-group"
          id="avoinsaatavuusGroup"
          data-ng-if="isFieldVisible('avoinsaatavuus')">
       <div class="col-sm-4 col-xs-12">
         <label class="control-label"
                data-ng-bind="i18n.content.form.avoinsaatavuus[lang]">
         </label>
         <i class="fa fa-info-circle justus-info"
            data-popover-trigger="'outsideClick'"
            data-popover-is-open="popoverIsOpen"
            data-ng-mouseenter="popoverIsOpen = true"
            data-popover-placement="right"
            data-uib-popover="{{i18n.content.form.avoinsaatavuus.tooltip[lang]}}"
            data-ng-show="i18n.content.form.avoinsaatavuus.tooltip[lang]">
         </i>
         <i data-ng-if="isFieldRequired('avoinsaatavuus')" class="fa fa-asterisk required-star" aria-hidden="true"></i>
         <span data-ng-if="isFieldRequired('avoinsaatavuus')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
       </div>
       <div class="col-sm-8 col-xs-12 justus-data"
            data-ng-model="req_avoinsaatavuus"
            data-ng-required="requiredHighlight && !isValid('avoinsaatavuus')">
         <div class="row">
           <div class="col-xs-10">
             <div>
             <input id="eiavoinsaatavuutta"
                    name="eiavoinsaatavuutta"
                    type="radio"
                    data-ng-model="justus.julkaisu.avoinsaatavuus"
                    value="0"
                    data-ng-change="resetValidationError('avoinsaatavuus')">
             <label for="eiavoinsaatavuutta"
                    data-ng-model="lab1_avoinsaatavuus"
                    class="control-label">
               {{i18n.content.form.avoinsaatavuus['0'][lang]}}
             </label>
             </div>
             <div>
             <input id="openaccess"
                    name="openaccess"
                    type="radio"
                    data-ng-model="justus.julkaisu.avoinsaatavuus"
                    value="1"
                    data-ng-change="resetValidationError('avoinsaatavuus')">
             <label for="openaccess" data-ng-model="lab2_avoinsaatavuus" class="control-label">
               {{i18n.content.form.avoinsaatavuus['1'][lang]}}
               <i class="fa fa-info-circle justus-info"
                  data-popover-trigger="'outsideClick'"
                  data-popover-is-open="popoverIsOpen2"
                  data-ng-mouseenter="popoverIsOpen2 = true"
                  data-popover-placement="right"
                  data-uib-popover="{{i18n.content.form.avoinsaatavuus['1'].tooltip[lang]}}"
                  data-ng-show="i18n.content.form.avoinsaatavuus['1'].tooltip[lang]">
               </i>
             </label>
             </div>
           <div>
             <input id="hybridijulkaisu"
                    name="hybridijulkaisu"
                    type="radio"
                    data-ng-model="justus.julkaisu.avoinsaatavuus"
                    value="2"
                    data-ng-change="resetValidationError('avoinsaatavuus')">
             <label for="hybridijulkaisu" data-ng-model="lab3_avoinsaatavuus" class="control-label">
               {{i18n.content.form.avoinsaatavuus['2'][lang]}}
               <i class="fa fa-info-circle justus-info"
                  data-popover-trigger="'outsideClick'"
                  data-popover-is-open="popoverIsOpen"
                  data-ng-mouseenter="popoverIsOpen = true"
                  data-popover-placement="right"
                  data-uib-popover="{{i18n.content.form.avoinsaatavuus['2'].tooltip[lang]}}"
                  data-ng-show="i18n.content.form.avoinsaatavuus['2'].tooltip[lang]">
               </i>
             </label>
           </div>
           </div>
         </div>
       </div>
     </div>

     <!-- Kenttä: Julkaisumaksu -->
     <div class="row form-group"
          id="julkaisumaksuGroup"
          data-ng-if="isFieldVisible('julkaisumaksu')">
       <div class="col-sm-4 col-xs-12">
         <label for="julkaisumaksu" class="control-label"
                data-ng-bind="i18n.content.form.julkaisumaksu[lang]"></label>
         <i class="fa fa-info-circle justus-info"
            data-popover-trigger="'outsideClick'"
            data-popover-is-open="popoverIsOpen"
            data-ng-mouseenter="popoverIsOpen = true"
            data-popover-placement="right"
            data-uib-popover="{{i18n.content.form.julkaisumaksu.tooltip[lang]}}"
            data-ng-show="i18n.content.form.julkaisumaksu.tooltip[lang]">
         </i>
         <i data-ng-if="isFieldRequired('julkaisumaksu')" class="fa fa-asterisk required-star"
            aria-hidden="true"></i>
         <span data-ng-if="isFieldRequired('julkaisumaksu')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
       </div>
       <div class="col-sm-8 col-xs-12 justus-data">
         <div class="row">
           <div class="col-xs-12">
             <input id="julkaisumaksu"
                    name="julkaisumaksu"
                    type="text"
                    class="form-control"
                    data-ng-model="justus.julkaisu.julkaisumaksu"
                    placeholder="{{ i18n.content.form.julkaisumaksu.picktip[lang] }}"
                    data-ng-keydown="resetValidationError('julkaisumaksu')">
           </div>
         </div>
       </div>
     </div>

     <!-- Kenttä: Julkaisumaksu -->
     <div class="row form-group"
          id="julkaisumaksuvuosiGroup"
          data-ng-if="isFieldVisible('julkaisumaksuvuosi')">
       <div class="col-sm-4 col-xs-12">
         <label for="julkaisumaksuvuosi" class="control-label"
                data-ng-bind="i18n.content.form.julkaisumaksuvuosi[lang]"></label>
         <i class="fa fa-info-circle justus-info"
            data-popover-trigger="'outsideClick'"
            data-popover-is-open="popoverIsOpen"
            data-ng-mouseenter="popoverIsOpen = true"
            data-popover-placement="right"
            data-uib-popover="{{i18n.content.form.julkaisumaksuvuosi.tooltip[lang]}}"
            data-ng-show="i18n.content.form.julkaisumaksuvuosi.tooltip[lang]">
         </i>
         <i data-ng-if="isFieldRequired('julkaisumaksuvuosi')" class="fa fa-asterisk required-star"
            aria-hidden="true"></i>
         <span data-ng-if="isFieldRequired('julkaisumaksuvuosi')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
       </div>
       <div class="col-sm-8 col-xs-12 justus-data">
         <div class="row">
           <div class="col-xs-12">
             <input id="julkaisumaksuvuosi"
                    name="julkaisumaksuvuosi"
                    type="text"
                    class="form-control"
                    data-ng-model="justus.julkaisu.julkaisumaksuvuosi"
                    placeholder="{{ i18n.content.form.julkaisumaksuvuosi.picktip[lang] }}"
                    data-ng-keydown="resetValidationError('julkaisumaksuvuosi')">
           </div>
         </div>
       </div>
     </div>

     <!-- Kenttä: Lisätieto -->
     <div class="row form-group" data-ng-if="isFieldVisible('lisatieto')" id="lisatietoGroup">
       <div class="col-sm-4 col-xs-12">
         <label for="lisatieto"
                class="control-label"
                data-ng-bind="i18n.content.form.lisatieto[lang]">
         </label>
         <i class="fa fa-info-circle justus-info"
            data-popover-trigger="'outsideClick'"
            data-popover-is-open="popoverIsOpen"
            data-ng-mouseenter="popoverIsOpen = true"
            data-popover-placement="right"
            data-uib-popover="{{i18n.content.form.lisatieto.tooltip[lang]}}"
            data-ng-show="i18n.content.form.lisatieto.tooltip[lang]">
         </i>
         <i data-ng-if="isFieldRequired('lisatieto')" class="fa fa-asterisk required-star" aria-hidden="true"></i>
         <span data-ng-if="isFieldRequired('lisatieto')" class="sr-only" data-ng-bind="i18n.content.form.pakollinenkentta[lang]"></span>
       </div>
       <div class="col-sm-8 col-xs-12 justus-data"
            data-ng-model="req_lisatieto" data-ng-required="requiredHighlight && !isValid('lisatieto')">
         <div class="row">
           <div class="col-xs-12">
          <textarea id="lisatieto"
                    name="lisatieto"
                    class="form-control vertical-resize"
                    maxlength="1000"
                    data-ng-model="justus.julkaisu.lisatieto"
                    placeholder="{{i18n.content.form.lisatieto.picktip[lang]}}">
          </textarea>
           </div>
         </div>
       </div>
     </div>
   </div>
  <div class="row px">
    <div class="col-xs-12">
      <p class="text-danger font-xl">{{i18n.content.form.pakolliset[lang]}}  <i class="fa fa-asterisk required-star" ></i>
      </p>
    </div>
  </div>

  <div class="row px"
       data-ng-if="invalidFields.missingValue.length > 0 || invalidFields.invalidValue.length > 0">
    <div class="col-xs-12">
      <div role="alert" class="alert alert-danger m-t">
        <h3 class="text-secondary mt-0">
          {{i18n.content.tietojensyotto.tarkasta[lang]}}
        </h3>
        <div>
          <span class="pxs" data-ng-repeat="o in invalidFields.missingValue">
            <i class="text-xl" data-ng-bind="i18n.content.form[o][lang]?i18n.content.form[o][lang]:o"></i>
            <br>
          </span>
          <span class="pxs" data-ng-repeat="i in invalidFields.invalidValue">
            <i class="text-xl" data-ng-bind="i18n.content.form[i][lang]?i18n.content.form[i][lang]:i"></i>
            <br>
          </span>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- JATKA -->
<div class="row form-group px m-t">
  <div class="col-md-3 margin-bottom-md">
    <button class="btn btn-info btn-lg btn-block"
            type="reset"
            data-ng-click="useVaihe(2)">
      {{i18n.content.tietojensyotto.palaa[lang]}}
    </button>
  </div>
  <div class="col-md-3 margin-bottom-md">
    <button class="btn btn-danger btn-lg btn-block"
            type="reset"
            data-ng-click="cancelAndAndStartOver()">
      {{i18n.content.tietojensyotto.hylkaa[lang]}}
    </button>
  </div>
  <div class="col-md-6">
    <button class="btn btn-lg btn-block btn-primary"
            type="button"
            data-ng-click="useVaihe(4)">
      {{i18n.content.tietojensyotto.rinnakkaistallennusvalinta[lang]}}
    </button>
  </div>

</div>
